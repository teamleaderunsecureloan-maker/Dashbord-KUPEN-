<!DOCTYPE html>
<html lang="id">
<head>
<!--
==============================================================================
DASHBOARD AUTO-UPDATE
==============================================================================
Last Updated: 2026-01-30 03:34:49 (Jakarta Time)
Latest Period: 2026-01
Total Periods: 25
Updated by: KUPEN Dashboard Auto-Update Script (Step 2C)
Data Source: Google Drive (/content/drive/My Drive/KUPEN_Dashboard_Data/)
==============================================================================
-->

<!-- 
==============================================================================
DASHBOARD AUTO-UPDATE
==============================================================================
Last Updated: 2026-01-29 09:36:04 (Jakarta Time)
Latest Period: 2026-01
Total Periods: 25
Updated by: KUPEN Dashboard Auto-Update Script (Step 2C)
Data Source: Google Drive (/content/drive/My Drive/KUPEN_Dashboard_Data/)
==============================================================================
-->

<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dashboard Portofolio KUPEN</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/chartjs-plugin-datalabels/2.2.0/chartjs-plugin-datalabels.min.js"></script>

<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
}

body {
font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
min-height: 100vh;
padding: 20px;
}

.dashboard-container {
max-width: 1400px;
margin: 0 auto;
}

.header {
background: white;
padding: 25px 30px;
border-radius: 15px;
margin-bottom: 25px;
box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

.header h1 {
color: #2d3748;
font-size: 28px;
margin-bottom: 10px;
}

.period-selector {
display: flex;
gap: 15px;
align-items: center;
margin-top: 15px;
flex-wrap: wrap;
}

.period-selector select {
padding: 10px 15px;
border: 2px solid #e2e8f0;
border-radius: 8px;
font-size: 14px;
cursor: pointer;
transition: all 0.3s;
}

.period-selector select:hover {
border-color: #667eea;
}

.executive-summary {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
gap: 20px;
margin-bottom: 25px;
}

.kpi-card {
background: white;
padding: 25px;
border-radius: 15px;
box-shadow: 0 4px 6px rgba(0,0,0,0.1);
transition: transform 0.3s, box-shadow 0.3s;
position: relative;
overflow: hidden;
min-height: 280px;
}

.kpi-card:hover {
transform: translateY(-5px);
box-shadow: 0 8px 15px rgba(0,0,0,0.15);
}

.kpi-card::before {
content: '';
position: absolute;
top: 0;
left: 0;
width: 100%;
height: 4px;
}

.kpi-card.portfolio::before { background: #3b82f6; }
.kpi-card.npl::before { background: #ef4444; }
.kpi-card.sm::before { background: #f59e0b; }
.kpi-card.coverage::before { background: #10b981; }

.kpi-label {
color: #6b7280;
font-size: 14px;
margin-bottom: 10px;
font-weight: 500;
}

.kpi-value {
font-size: 32px;
font-weight: bold;
margin-bottom: 8px;
line-height: 1.2;
}

.kpi-card.portfolio .kpi-value { color: #3b82f6; }
.kpi-card.npl .kpi-value { color: #ef4444; }
.kpi-card.sm .kpi-value { color: #f59e0b; }
.kpi-card.coverage .kpi-value { color: #10b981; }

.kpi-change {
display: flex;
align-items: center;
gap: 8px;
font-size: 13px;
margin-bottom: 10px;
min-height: 20px;
}

.change-positive { color: #10b981; }
.change-negative { color: #ef4444; }

.mini-chart {
height: 60px;
margin-top: 10px;
margin-bottom: 10px;
max-height: 60px;
}

.kpi-footnote {
font-size: 11px;
color: #9ca3af;
line-height: 1.4;
margin-top: 8px;
padding-top: 8px;
border-top: 1px solid #e5e7eb;
}

.growth-section {
display: grid;
grid-template-columns: 1.5fr 1fr;
gap: 20px;
margin-bottom: 25px;
}

.section-card {
background: white;
padding: 25px;
border-radius: 15px;
box-shadow: 0 4px 6px rgba(0,0,0,0.1);
}

.section-title {
font-size: 20px;
font-weight: 600;
color: #2d3748;
margin-bottom: 20px;
padding-bottom: 10px;
border-bottom: 2px solid #e2e8f0;
}

.chart-container {
position: relative;
height: 300px;
}

.product-breakdown {
margin-top: 20px;
}

.product-charts-container {
display: grid;
grid-template-columns: 1fr 1fr;
gap: 15px;
margin-bottom: 20px;
}

.product-chart-box {
background: #f8fafc;
padding: 15px;
border-radius: 10px;
border: 1px solid #e2e8f0;
}

.product-chart-title {
font-size: 13px;
font-weight: 600;
color: #334155;
margin-bottom: 12px;
text-align: center;
}

.product-mini-chart {
height: 200px;
position: relative;
}

.product-summary {
display: grid;
grid-template-columns: repeat(3, 1fr);
gap: 10px;
margin-bottom: 15px;
}

.product-summary-card {
background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
color: white;
padding: 12px;
border-radius: 8px;
text-align: center;
}

.product-summary-label {
font-size: 11px;
opacity: 0.9;
margin-bottom: 5px;
}

.product-summary-value {
font-size: 16px;
font-weight: bold;
}

.detail-toggle {
text-align: center;
margin: 15px 0;
}

.detail-toggle-btn {
background: #3b82f6;
color: white;
border: none;
padding: 8px 20px;
border-radius: 6px;
cursor: pointer;
font-size: 12px;
font-weight: 500;
transition: all 0.3s;
}

.detail-toggle-btn:hover {
background: #2563eb;
transform: translateY(-2px);
}

.product-detail-section {
display: none;
margin-top: 15px;
}

.product-detail-section.show {
display: block;
}

.product-table-container {
max-height: 350px;
overflow-y: auto;
border: 1px solid #e5e7eb;
border-radius: 8px;
}

.product-table-container::-webkit-scrollbar {
width: 8px;
}

.product-table-container::-webkit-scrollbar-track {
background: #f1f5f9;
border-radius: 10px;
}

.product-table-container::-webkit-scrollbar-thumb {
background: #cbd5e1;
border-radius: 10px;
}

.product-table-container::-webkit-scrollbar-thumb:hover {
background: #94a3b8;
}

.product-table {
width: 100%;
font-size: 12px;
border-collapse: collapse;
}

.product-table thead {
position: sticky;
top: 0;
background: #f8fafc;
z-index: 10;
}

.product-table th {
padding: 10px 8px;
text-align: left;
font-weight: 600;
color: #475569;
border-bottom: 2px solid #e2e8f0;
font-size: 11px;
}

.product-table td {
padding: 8px;
border-bottom: 1px solid #f1f5f9;
}

.product-table tbody tr:hover {
background: #f8fafc;
}

.product-name-cell {
font-weight: 500;
color: #334155;
}

.facility-type-cell {
color: #64748b;
font-size: 11px;
}

.amount-cell {
text-align: right;
color: #0f172a;
font-weight: 500;
}

.count-cell {
text-align: center;
color: #475569;
}

.facility-badge {
display: inline-block;
padding: 2px 8px;
border-radius: 4px;
font-size: 10px;
font-weight: 500;
}

.facility-new {
background: #dbeafe;
color: #1e40af;
}

.facility-takeover {
background: #fef3c7;
color: #92400e;
}

.facility-topup {
background: #d1fae5;
color: #065f46;
}

.structure-section {
display: grid;
grid-template-columns: 1fr 1fr;
gap: 20px;
margin-bottom: 25px;
}

.table-container {
margin-top: 20px;
overflow-x: auto;
}

table {
width: 100%;
border-collapse: collapse;
font-size: 13px;
}

th {
background: #f7fafc;
padding: 12px;
text-align: left;
font-weight: 600;
color: #4a5568;
border-bottom: 2px solid #e2e8f0;
}

td {
padding: 10px 12px;
border-bottom: 1px solid #e2e8f0;
}

tr:hover {
background: #f7fafc;
}

.movement-section {
background: white;
padding: 25px;
border-radius: 15px;
box-shadow: 0 4px 6px rgba(0,0,0,0.1);
margin-bottom: 25px;
}

.lost-breakdown {
display: grid;
grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
gap: 15px;
margin-top: 20px;
}

.lost-item {
padding: 15px;
border-radius: 10px;
border-left: 4px solid;
background: #f7fafc;
}

.lost-item.lunas { border-color: #10b981; }
.lost-item.pelunasan { border-color: #3b82f6; }
.lost-item.jf { border-color: #06b6d4; }
.lost-item.rehab { border-color: #f59e0b; }
.lost-item.restruct { border-color: #f97316; }
.lost-item.passaway { border-color: #8b5cf6; }
.lost-item.writeoff { border-color: #ef4444; }

.lost-label {
font-size: 12px;
color: #6b7280;
margin-bottom: 5px;
}

.lost-value {
font-size: 18px;
font-weight: bold;
color: #2d3748;
}

.lost-percent {
font-size: 11px;
color: #9ca3af;
margin-top: 3px;
}

.highlight-box {
background: #eff6ff;
border-left: 4px solid #3b82f6;
padding: 15px;
margin-top: 15px;
border-radius: 5px;
}

.highlight-box h4 {
color: #1e40af;
margin-bottom: 5px;
font-size: 14px;
}

.highlight-box p {
color: #475569;
font-size: 13px;
}

@media (max-width: 768px) {
.growth-section,
.structure-section {
grid-template-columns: 1fr;
}
.executive-summary {
grid-template-columns: 1fr;
}
}
/* ========================================
   STYLING UNTUK KATA PENGANTAR
   ======================================== */
.pengantar-section {
    margin-top: 20px;
    border-top: 2px solid #e2e8f0;
    padding-top: 15px;
}

.pengantar-toggle {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border: none;
    padding: 12px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 14px;
    font-weight: 600;
    width: 100%;
    text-align: left;
    display: flex;
    align-items: center;
    gap: 8px;
    transition: all 0.3s;
    box-shadow: 0 2px 4px rgba(102, 126, 234, 0.2);
}

.pengantar-toggle:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(102, 126, 234, 0.3);
}

#pengantarIcon {
    font-size: 18px;
}

#pengantarArrow {
    margin-left: auto;
    transition: transform 0.3s;
}

.pengantar-toggle.active #pengantarArrow {
    transform: rotate(180deg);
}

.pengantar-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.4s ease-out, padding 0.4s ease-out;
    background: #f8fafc;
    border-radius: 0 0 8px 8px;
}

.pengantar-content.show {
    max-height: 800px;
    padding: 20px;
    border: 1px solid #e2e8f0;
    border-top: none;
    margin-top: -8px;
}

.pengantar-intro {
    color: #334155;
    font-size: 14px;
    line-height: 1.6;
    margin-bottom: 15px;
    text-align: justify;
}

.pengantar-subtitle {
    color: #475569;
    font-size: 13px;
    font-weight: 600;
    margin-bottom: 12px;
}

.pengantar-list {
    display: flex;
    flex-direction: column;
    gap: 12px;
}

.pengantar-item {
    display: grid;
    grid-template-columns: 200px 1fr;
    gap: 12px;
    padding: 12px;
    background: white;
    border-radius: 6px;
    border-left: 4px solid #667eea;
    transition: all 0.2s;
}

.pengantar-item:hover {
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
    transform: translateX(4px);
}

.pengantar-label {
    color: #667eea;
    font-weight: 600;
    font-size: 13px;
}

.pengantar-text {
    color: #475569;
    font-size: 13px;
    line-height: 1.5;
    text-align: justify;
}

@media (max-width: 768px) {
    .pengantar-item {
        grid-template-columns: 1fr;
        gap: 6px;
    }
    
    .pengantar-label {
        padding-bottom: 4px;
        border-bottom: 1px solid #e2e8f0;
    }
}
</style>
</head>
<body>

<!-- PASSWORD PROTECTION SCRIPT - AUTO-GENERATED BY STEP 2D -->
<div id="password-gate" style="
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    z-index: 99999;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
">
    <div style="
        background: white;
        padding: 40px;
        border-radius: 20px;
        box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        max-width: 400px;
        width: 90%;
        text-align: center;
    ">
        <div style="
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 50%;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
        ">üîí</div>
        
        <h2 style="color: #2d3748; margin-bottom: 10px; font-size: 24px;">Dashboard KUPEN</h2>
        <p style="color: #718096; margin-bottom: 30px; font-size: 14px;">Masukkan password untuk mengakses dashboard</p>
        
        <input 
            type="password" 
            id="password-input" 
            placeholder="Password"
            style="width: 100%; padding: 15px; border: 2px solid #e2e8f0; border-radius: 10px; font-size: 16px; margin-bottom: 15px; box-sizing: border-box; transition: border-color 0.3s;"
            onkeypress="if(event.keyCode===13) checkPassword()"
        />
        
        <div id="error-message" style="color: #ef4444; font-size: 13px; margin-bottom: 15px; min-height: 20px; display: none;"></div>
        
        <button 
            onclick="checkPassword()" 
            style="width: 100%; padding: 15px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; border: none; border-radius: 10px; font-size: 16px; font-weight: 600; cursor: pointer; transition: transform 0.2s, box-shadow 0.2s;"
            onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 10px 20px rgba(102,126,234,0.4)'"
            onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'"
        >Login</button>
        
        <p style="color: #a0aec0; font-size: 12px; margin-top: 20px;">Hubungi administrator jika lupa password</p>
    </div>
</div>

<script>

const SINGLE_PASSWORD = "KupenDashboard2026";
const USE_SINGLE_PASSWORD = true;
const MULTIPLE_PASSWORDS = {};



const SESSION_DURATION = 24 * 60 * 60 * 1000;
const MAX_ATTEMPTS = 3;
const LOCKOUT_DURATION = 15 * 60 * 1000;


const SESSION_KEY = "kupen_dashboard_auth";
const SESSION_TIME_KEY = "kupen_dashboard_auth_time";
const LOCKOUT_KEY = "kupen_dashboard_lockout";

function isAuthenticated() {
    const authStatus = sessionStorage.getItem(SESSION_KEY);
    const authTime = parseInt(sessionStorage.getItem(SESSION_TIME_KEY));
    
    if (authStatus === 'true' && authTime) {
        const currentTime = new Date().getTime();
        const timeDiff = currentTime - authTime;
        
        if (timeDiff < SESSION_DURATION) {
            return true;
        } else {
            sessionStorage.removeItem(SESSION_KEY);
            sessionStorage.removeItem(SESSION_TIME_KEY);
            return false;
        }
    }
    return false;
}

function isLockedOut() {
    const lockoutTime = parseInt(localStorage.getItem(LOCKOUT_KEY));
    if (lockoutTime) {
        const currentTime = new Date().getTime();
        const timeDiff = currentTime - lockoutTime;
        
        if (timeDiff < LOCKOUT_DURATION) {
            const remainingMinutes = Math.ceil((LOCKOUT_DURATION - timeDiff) / 60000);
            return remainingMinutes;
        } else {
            localStorage.removeItem(LOCKOUT_KEY);
            localStorage.removeItem('password_attempts');
            return false;
        }
    }
    return false;
}

function showError(message) {
    const errorDiv = document.getElementById('error-message');
    errorDiv.textContent = message;
    errorDiv.style.display = 'block';
    
    const passwordGate = document.getElementById('password-gate');
    passwordGate.querySelector('div').style.animation = 'shake 0.5s';
    setTimeout(() => {
        passwordGate.querySelector('div').style.animation = '';
    }, 500);
}

function hidePasswordGate() {
    const passwordGate = document.getElementById('password-gate');
    passwordGate.style.opacity = '0';
    passwordGate.style.transition = 'opacity 0.5s';
    
    setTimeout(() => {
        passwordGate.style.display = 'none';
    }, 500);
}

function checkPassword() {
    const input = document.getElementById('password-input');
    const password = input.value.trim();
    
    document.getElementById('error-message').style.display = 'none';
    
    const lockoutRemaining = isLockedOut();
    if (lockoutRemaining) {
        showError(`Terlalu banyak percobaan gagal. Coba lagi dalam ${lockoutRemaining} menit.`);
        input.value = '';
        return;
    }
    
    let isValid = false;
    let userName = '';
    
    if (USE_SINGLE_PASSWORD) {
        isValid = password === SINGLE_PASSWORD;
        userName = 'User';
    } else {
        if (MULTIPLE_PASSWORDS[password]) {
            isValid = true;
            userName = MULTIPLE_PASSWORDS[password];
        }
    }
    
    if (isValid) {
        sessionStorage.setItem(SESSION_KEY, 'true');
        sessionStorage.setItem(SESSION_TIME_KEY, new Date().getTime().toString());
        localStorage.removeItem('password_attempts');
        console.log(`Dashboard accessed by: ${userName} at ${new Date().toLocaleString('id-ID')}`);
        hidePasswordGate();
    } else {
        let attempts = parseInt(localStorage.getItem('password_attempts') || '0');
        attempts++;
        localStorage.setItem('password_attempts', attempts.toString());
        
        const remainingAttempts = MAX_ATTEMPTS - attempts;
        
        if (remainingAttempts <= 0) {
            localStorage.setItem(LOCKOUT_KEY, new Date().getTime().toString());
            showError('Terlalu banyak percobaan gagal. Akses ditutup selama 15 menit.');
        } else {
            showError(`Password salah! Sisa percobaan: ${remainingAttempts}`);
        }
        
        input.value = '';
        input.focus();
    }
}

(function() {
    const style = document.createElement('style');
    style.textContent = `
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            75% { transform: translateX(10px); }
        }
        #password-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
    `;
    document.head.appendChild(style);
    
    if (isAuthenticated()) {
        hidePasswordGate();
    } else {
        setTimeout(() => {
            document.getElementById('password-input').focus();
        }, 300);
    }
    
    const lockoutRemaining = isLockedOut();
    if (lockoutRemaining) {
        showError(`Akses ditutup. Coba lagi dalam ${lockoutRemaining} menit.`);
        document.getElementById('password-input').disabled = true;
    }
})();
</script>
<!-- END OF PASSWORD PROTECTION SCRIPT -->

<div class="dashboard-container">
<div class="header">
<h1>üìä Dashboard Portofolio KUPEN</h1>

<!-- KATA PENGANTAR - BAGIAN BARU -->
<div class="pengantar-section">
    <button class="pengantar-toggle" onclick="togglePengantar()">
        <span id="pengantarIcon">‚ÑπÔ∏è</span> Metodologi & Definisi
        <span id="pengantarArrow">‚ñº</span>
    </button>
    <div class="pengantar-content" id="pengantarContent">
        <p class="pengantar-intro">
            Data Portofolio Kredit Pensiun (Kupen) dihitung berdasarkan data MD 6400 pada setiap akhir bulan berjalan, 
            dengan metode perhitungan yang disusun berdasarkan perspektif bisnis pensiun.
        </p>
        <p class="pengantar-subtitle">Adapun beberapa definisi dan metode perhitungan utama yang perlu menjadi perhatian adalah sebagai berikut:</p>
        <div class="pengantar-list">
            <div class="pengantar-item">
                <span class="pengantar-label">a. Portofolio</span>
                <span class="pengantar-text">Merupakan seluruh kredit pensiun yang tercatat pada COA Kupen, dihitung berdasarkan standar PSAK, serta termasuk portofolio JF Bukopin.</span>
            </div>
            <div class="pengantar-item">
                <span class="pengantar-label">b. Special Mention (SM)</span>
                <span class="pengantar-text">Dihitung dari total Portofolio Kupen dengan melakukan penyaringan data pada debitur yang memiliki nilai Asset Soundness One Obligor = 2.</span>
            </div>
            <div class="pengantar-item">
                <span class="pengantar-label">c. Non-Performing Loan (NPL)</span>
                <span class="pengantar-text">Dihitung dari total Portofolio Kupen dengan melakukan penyaringan data pada debitur yang memiliki nilai Asset Soundness One Obligor > 2.</span>
            </div>
            <div class="pengantar-item">
                <span class="pengantar-label">d. CKPN</span>
                <span class="pengantar-text">Mengacu pada nilai CKPN yang tercatat pada kolom CKPN di Total Portofolio Kupen.</span>
            </div>
            <div class="pengantar-item">
                <span class="pengantar-label">e. Disbursement</span>
                <span class="pengantar-text">Merupakan data pencairan kredit pada bulan berjalan, yang diambil dari kolom disbursement, tidak termasuk debitur restrukturisasi, serta menggunakan nilai berdasarkan PSAK.</span>
            </div>
            <div class="pengantar-item">
                <span class="pengantar-label">f. Interest Income</span>
                <span class="pengantar-text">Dihitung dari kolom Scheduled Next Repayment Interest pada Total Portofolio Kupen, dengan ketentuan hanya mencakup debitur dengan Asset Soundness One Obligor = 1 dan 2.</span>
            </div>
        </div>
    </div>
</div>
<!-- AKHIR KATA PENGANTAR -->


<div class="period-selector">
<label style="color: #6b7280; font-weight: 500;">Periode:</label>
<select id="monthSelector" onchange="updateDashboard()"><option value="2026-01">Januari 2026</option>
<option value="2025-12">Desember 2025</option>
<option value="2025-11">November 2025</option>
<option value="2025-10">Oktober 2025</option>
<option value="2025-09">September 2025</option>
<option value="2025-08">Agustus 2025</option>
<option value="2025-07">Juli 2025</option>
<option value="2025-06">Juni 2025</option>
<option value="2025-05">Mei 2025</option>
<option value="2025-04">April 2025</option>
<option value="2025-03">Maret 2025</option>
<option value="2025-02">Februari 2025</option>
<option value="2025-01">Januari 2025</option>
<option value="2024-12">Desember 2024</option>
<option value="2024-11">November 2024</option>
<option value="2024-10">Oktober 2024</option>
<option value="2024-09">September 2024</option>
<option value="2024-08">Agustus 2024</option>
<option value="2024-07">Juli 2024</option>
<option value="2024-06">Juni 2024</option>
<option value="2024-05">Mei 2024</option>
<option value="2024-04">April 2024</option>
<option value="2024-03">Maret 2024</option>
<option value="2024-02">Februari 2024</option>
<option value="2024-01">Januari 2024</option>
</select>
<select id="comparisonSelector" onchange="updateDashboard()">
<option value="mom">vs Bulan Lalu (MoM)</option>
<option value="yoy">vs Tahun Lalu (YoY)</option>
</select>
</div>
</div>

<div class="executive-summary">
<div class="kpi-card portfolio">
<div class="kpi-label">Total Portfolio KUPEN</div>
<div class="kpi-value" id="totalPortfolio">-</div>
<div class="kpi-change" id="portfolioChange"></div>
<canvas id="miniChart1" class="mini-chart"></canvas>
<div class="kpi-footnote">Seluruh portofolio Kredit Pensiun (Kupen), termasuk JF Bukopin, yang dihitung berdasarkan Balance + DOCF.</div>
</div>

<div class="kpi-card npl">
<div class="kpi-label">NPL Ratio</div>
<div class="kpi-value" id="nplRatio">-</div>
<div class="kpi-change" id="nplChange"></div>
<canvas id="miniChart2" class="mini-chart"></canvas>
<div class="kpi-footnote">Total portofolio Kupen dengan kolektibilitas 3-5 (one obligor) dibandingkan dengan total portofolio Kupen.</div>
</div>

<div class="kpi-card sm">
<div class="kpi-label">Special Mention Ratio</div>
<div class="kpi-value" id="smRatio">-</div>
<div class="kpi-change" id="smChange"></div>
<canvas id="miniChart3" class="mini-chart"></canvas>
<div class="kpi-footnote">Total portofolio Kupen dengan kolektibilitas 2 (one obligor) dibandingkan dengan total portofolio Kupen.</div>
</div>

<div class="kpi-card coverage">
<div class="kpi-label">Coverage Ratio</div>
<div class="kpi-value" id="coverageRatio">-</div>
<div class="kpi-change" id="coverageChange"></div>
<canvas id="miniChart4" class="mini-chart"></canvas>
<div class="kpi-footnote">Total CKPN pada COA Kupen dibandingkan dengan total portofolio NPL Kupen.</div>
</div>
</div>

<div class="growth-section">
<div class="section-card">
<div class="section-title">üí∞ New Disbursement Performance</div>
<div class="chart-container">
<canvas id="disburseChart"></canvas>
</div>
<div class="highlight-box">
<h4>Key Insight</h4>
<p id="disburseInsight">Loading...</p>
</div>
<div class="section-title" style="margin-top: 20px; font-size: 16px;">Breakdown by Product & Facility Type</div>
<div class="product-breakdown" id="productBreakdown">
Loading...
</div>
</div>

<div class="section-card">
<div class="section-title">üíµ Interest Income</div>
<div class="chart-container">
<canvas id="interestChart"></canvas>
</div>
<div class="highlight-box">
<h4>Kontribusi New Disburse</h4>
<p id="interestInsight">Loading...</p>
</div>
</div>
</div>

<div class="structure-section">
<div class="section-card">
<div class="section-title">üë• Age Distribution</div>
<div class="chart-container">
<canvas id="ageChart"></canvas>
</div>
<div class="table-container">
<table>
<thead>
<tr>
<th>Kelompok Usia</th>
<th>Jumlah Debitur</th>
<th>Portfolio</th>
<th>Avg Porto</th>
</tr>
</thead>
<tbody id="ageTableBody"></tbody>
</table>
</div>
</div>

<div class="section-card">
<div class="section-title">üìà Portfolio Quality Trend</div>
<div class="chart-container">
<canvas id="qualityChart"></canvas>
</div>
<div class="table-container">
<table>
<thead>
<tr>
<th>Kategori</th>
<th>Outstanding</th>
<th>Ratio</th>
</tr>
</thead>
<tbody id="qualityTableBody"></tbody>
</table>
</div>
</div>
</div>

<div class="movement-section">
<div class="section-title">üîÑ Portfolio Movement & Lost Analysis</div>
<div class="chart-container">
<canvas id="waterfallChart"></canvas>
</div>

<div class="section-title" style="margin-top: 30px;">üìä Lost Portfolio Breakdown</div>
<div class="lost-breakdown" id="lostBreakdown"></div>

<div class="highlight-box" style="margin-top: 20px;">
<h4>üíº Financial Impact dari Lost Portfolio</h4>
<p id="financialImpact">Loading...</p>
</div>
</div>
</div>

<script>
const summaryData = [
  {
    "period": "2026-01",
    "portfolio": 19849775789287.9,
    "balance": 18388472663625.03,
    "docf": 1461303125662.87,
    "interest_income": 162678279151.36002,
    "amortize_direct_cost": 14074263565.555422,
    "new_disburse": 25221772710.600002,
    "new_disburse_count": 637,
    "new_interest_income": 246001783.34,
    "special_mention": 109769832534.79001,
    "npl": 64222484961.75,
    "ckpn": 77699922095.33002,
    "npl_ratio": 0.003235426215565025,
    "coverage_ratio": 1.2098554290075663
  },
  {
    "period": "2025-12",
    "portfolio": 19955393817230.312,
    "balance": 18476099687694.047,
    "docf": 1479294129536.27,
    "interest_income": 163470229761.57004,
    "amortize_direct_cost": 14088812467.848015,
    "new_disburse": 52942179929.16,
    "new_disburse_count": 1051,
    "new_interest_income": 421017893.65999997,
    "special_mention": 109690138994.76001,
    "npl": 64287589367.35999,
    "ckpn": 74411993027.28,
    "npl_ratio": 0.0032215645532312886,
    "coverage_ratio": 1.1574861300532815
  },
  {
    "period": "2025-11",
    "portfolio": 20138659229166.46,
    "balance": 18631953716895.027,
    "docf": 1506705512271.4297,
    "interest_income": 165025188558.68,
    "amortize_direct_cost": 14180937403.89587,
    "new_disburse": 49766327722.54001,
    "new_disburse_count": 1019,
    "new_interest_income": 397923489.53000003,
    "special_mention": 121119044336.23001,
    "npl": 57314833451.49,
    "ckpn": 77628789045.36,
    "npl_ratio": 0.0028460103922152845,
    "coverage_ratio": 1.3544275429337727
  },
  {
    "period": "2025-10",
    "portfolio": 20352694166392.293,
    "balance": 18817044652856.81,
    "docf": 1535649513535.4802,
    "interest_income": 166475771307.63,
    "amortize_direct_cost": 14304054418.731676,
    "new_disburse": 87184645669.67,
    "new_disburse_count": 1409,
    "new_interest_income": 686992369.5699999,
    "special_mention": 209472833213.33002,
    "npl": 92906519376.15,
    "ckpn": 98560416052.2,
    "npl_ratio": 0.004564826583478238,
    "coverage_ratio": 1.0608557581751514
  },
  {
    "period": "2025-09",
    "portfolio": 20518923923721.4,
    "balance": 18952550330747.582,
    "docf": 1566373592973.82,
    "interest_income": 167357339436.68997,
    "amortize_direct_cost": 14416484141.109756,
    "new_disburse": 91797348606.35,
    "new_disburse_count": 1550,
    "new_interest_income": 729762220.15,
    "special_mention": 208264015236.21997,
    "npl": 150392098996.38,
    "ckpn": 105346872028.25002,
    "npl_ratio": 0.0073294340168840715,
    "coverage_ratio": 0.7004814264264358
  },
  {
    "period": "2025-08",
    "portfolio": 20651290048926.438,
    "balance": 19059494148766.9,
    "docf": 1591795900159.5403,
    "interest_income": 168594017003.91,
    "amortize_direct_cost": 14496756630.95096,
    "new_disburse": 91594653279.1,
    "new_disburse_count": 1486,
    "new_interest_income": 724269025.88,
    "special_mention": 202934748333.76,
    "npl": 133817999547.74,
    "ckpn": 116244379237.33003,
    "npl_ratio": 0.0064798857229113665,
    "coverage_ratio": 0.8686752128278489
  },
  {
    "period": "2025-07",
    "portfolio": 20723863469998.312,
    "balance": 19108672883670.316,
    "docf": 1615190586327.9902,
    "interest_income": 168985611069.29996,
    "amortize_direct_cost": 14538839253.433533,
    "new_disburse": 90512778395.67,
    "new_disburse_count": 1646,
    "new_interest_income": 734815087.4200001,
    "special_mention": 204131896829.43,
    "npl": 156943567257.79,
    "ckpn": 126333062214.99998,
    "npl_ratio": 0.007573084405086692,
    "coverage_ratio": 0.8049585237698192
  },
  {
    "period": "2025-06",
    "portfolio": 20806884549138.664,
    "balance": 19167669424025.1,
    "docf": 1639215125113.5598,
    "interest_income": 169777197413.36002,
    "amortize_direct_cost": 14582777623.145424,
    "new_disburse": 99940424127.81,
    "new_disburse_count": 1511,
    "new_interest_income": 793196795.3499999,
    "special_mention": 192387927601.61002,
    "npl": 140327129299.15,
    "ckpn": 99619497137.92,
    "npl_ratio": 0.00674426433076734,
    "coverage_ratio": 0.709909036374219
  },
  {
    "period": "2025-05",
    "portfolio": 20869272851269.816,
    "balance": 19207487948462.113,
    "docf": 1661784902807.7,
    "interest_income": 170843235635.87997,
    "amortize_direct_cost": 14620756242.00022,
    "new_disburse": 94975445582.34999,
    "new_disburse_count": 1552,
    "new_interest_income": 761916314.5799999,
    "special_mention": 198633479100.03,
    "npl": 72399541081.75,
    "ckpn": 109016596835.52,
    "npl_ratio": 0.0034691932774909675,
    "coverage_ratio": 1.5057636444466385
  },
  {
    "period": "2025-04",
    "portfolio": 20934918656177.934,
    "balance": 19248878324720.547,
    "docf": 1686040331457.3801,
    "interest_income": 171178114041.12994,
    "amortize_direct_cost": 14657159133.980282,
    "new_disburse": 83025789489.11,
    "new_disburse_count": 1541,
    "new_interest_income": 672466635.03,
    "special_mention": 202346401960.34998,
    "npl": 92308325975.01,
    "ckpn": 83744663974.83,
    "npl_ratio": 0.004409299481456052,
    "coverage_ratio": 0.9072276318552416
  },
  {
    "period": "2025-03",
    "portfolio": 21009080930672.426,
    "balance": 19300689930938.81,
    "docf": 1708390999733.6199,
    "interest_income": 172128190863.84998,
    "amortize_direct_cost": 14688426536.085218,
    "new_disburse": 94297178444.81,
    "new_disburse_count": 1662,
    "new_interest_income": 780349012.6100001,
    "special_mention": 215765566742.73,
    "npl": 49185814648.189995,
    "ckpn": 87897683287.62003,
    "npl_ratio": 0.0023411692691602064,
    "coverage_ratio": 1.7870535217587293
  },
  {
    "period": "2025-02",
    "portfolio": 21075901611301.05,
    "balance": 19341560300413.19,
    "docf": 1734341310887.86,
    "interest_income": 172607845659.51,
    "amortize_direct_cost": 14724347047.470028,
    "new_disburse": 72116983095.71999,
    "new_disburse_count": 1227,
    "new_interest_income": 629697245.8699999,
    "special_mention": 235824057607.48,
    "npl": 49196856235.84,
    "ckpn": 83062336834.30998,
    "npl_ratio": 0.002334270540030434,
    "coverage_ratio": 1.6883667614069804
  },
  {
    "period": "2025-01",
    "portfolio": 21160011363928.906,
    "balance": 19405346272163.188,
    "docf": 1754665091765.72,
    "interest_income": 173245842571.34006,
    "amortize_direct_cost": 14746848138.02034,
    "new_disburse": 48590197756.04,
    "new_disburse_count": 873,
    "new_interest_income": 461803420.76,
    "special_mention": 165936137286.3,
    "npl": 50702059864.520004,
    "ckpn": 79566574107.56001,
    "npl_ratio": 0.002396126306007137,
    "coverage_ratio": 1.5692966778897803
  },
  {
    "period": "2024-12",
    "portfolio": 21252873620217.12,
    "balance": 19480718131376.715,
    "docf": 1772155488840.3997,
    "interest_income": 173984917957.84,
    "amortize_direct_cost": 14736966242.718533,
    "new_disburse": 65230804725.47,
    "new_disburse_count": 1243,
    "new_interest_income": 556609848.02,
    "special_mention": 98276072416.31,
    "npl": 44849257541.81,
    "ckpn": 72142103988.53,
    "npl_ratio": 0.002110267926269813,
    "coverage_ratio": 1.6085462266856188
  },
  {
    "period": "2024-11",
    "portfolio": 21331008069421.406,
    "balance": 19544888176681.094,
    "docf": 1786119892740.31,
    "interest_income": 174633194745.62,
    "amortize_direct_cost": 14703772636.547224,
    "new_disburse": 297790763795.0,
    "new_disburse_count": 3651,
    "new_interest_income": 2377050420.47,
    "special_mention": 64752662052.19,
    "npl": 44272410143.68,
    "ckpn": 73364918136.97002,
    "npl_ratio": 0.0020754954477348745,
    "coverage_ratio": 1.6571250107883058
  },
  {
    "period": "2024-10",
    "portfolio": 21413006471064.36,
    "balance": 19617833550495.504,
    "docf": 1795172920568.8496,
    "interest_income": 174915877063.39,
    "amortize_direct_cost": 14707828390.663757,
    "new_disburse": 386897650718.81,
    "new_disburse_count": 4917,
    "new_interest_income": 3097929669.3,
    "special_mention": 198473831289.55,
    "npl": 116160291396.57,
    "ckpn": 94612192625.56,
    "npl_ratio": 0.00542475394819213,
    "coverage_ratio": 0.8144968602270029
  },
  {
    "period": "2024-09",
    "portfolio": 21193770261768.5,
    "balance": 19413764970480.14,
    "docf": 1780005291288.3604,
    "interest_income": 173332167551.87,
    "amortize_direct_cost": 14510890551.910358,
    "new_disburse": 320314403672.82,
    "new_disburse_count": 4736,
    "new_interest_income": 2658467441.02,
    "special_mention": 207331856538.01,
    "npl": 116176503815.34001,
    "ckpn": 107794171431.96,
    "npl_ratio": 0.005481634573764873,
    "coverage_ratio": 0.9278482988547879
  },
  {
    "period": "2024-08",
    "portfolio": 21026585751070.867,
    "balance": 19264441418315.984,
    "docf": 1762144332754.88,
    "interest_income": 172410116425.59003,
    "amortize_direct_cost": 14302948776.270096,
    "new_disburse": 486075289453.0499,
    "new_disburse_count": 6509,
    "new_interest_income": 3911741154.23,
    "special_mention": 228836645721.25,
    "npl": 84138814969.76,
    "ckpn": 101200953662.00002,
    "npl_ratio": 0.004001544328968144,
    "coverage_ratio": 1.202785583542771
  },
  {
    "period": "2024-07",
    "portfolio": 20743907741766.293,
    "balance": 19000471593686.05,
    "docf": 1743436148080.2397,
    "interest_income": 169799049359.89005,
    "amortize_direct_cost": 14096011710.917227,
    "new_disburse": 475246702457.72,
    "new_disburse_count": 8097,
    "new_interest_income": 3868801237.2099996,
    "special_mention": 177241202141.91998,
    "npl": 148853802831.98,
    "ckpn": 103264132075.78,
    "npl_ratio": 0.007175784075257629,
    "coverage_ratio": 0.6937285451305552
  },
  {
    "period": "2024-06",
    "portfolio": 20411915728853.223,
    "balance": 18688695998164.277,
    "docf": 1723219730688.9402,
    "interest_income": 167605342044.27997,
    "amortize_direct_cost": 13860473877.001938,
    "new_disburse": 441992262611.71,
    "new_disburse_count": 7959,
    "new_interest_income": 3626083809.05,
    "special_mention": 171024644090.13998,
    "npl": 114695358582.03998,
    "ckpn": 102504671600.33002,
    "npl_ratio": 0.005619039393735718,
    "coverage_ratio": 0.8937124646330816
  },
  {
    "period": "2024-05",
    "portfolio": 20142542258916.812,
    "balance": 18429563855115.11,
    "docf": 1712978403801.7002,
    "interest_income": 165063330634.95004,
    "amortize_direct_cost": 13703841870.761816,
    "new_disburse": 398030192030.36,
    "new_disburse_count": 5186,
    "new_interest_income": 3172814144.24,
    "special_mention": 184012005569.57,
    "npl": 166412795828.14,
    "ckpn": 127292517962.44998,
    "npl_ratio": 0.008261757313899713,
    "coverage_ratio": 0.7649202534515985
  },
  {
    "period": "2024-04",
    "portfolio": 19898577055340.094,
    "balance": 18207530614322.44,
    "docf": 1691046441017.6602,
    "interest_income": 163393392655.44,
    "amortize_direct_cost": 13462456064.72702,
    "new_disburse": 354746938373.06,
    "new_disburse_count": 2904,
    "new_interest_income": 2774342073.8100004,
    "special_mention": 198409368032.36,
    "npl": 160124670363.64,
    "ckpn": 109199638766.36998,
    "npl_ratio": 0.008047041249146408,
    "coverage_ratio": 0.6819663610759025
  },
  {
    "period": "2024-03",
    "portfolio": 19742039128498.82,
    "balance": 18071890753557.566,
    "docf": 1670148374941.2495,
    "interest_income": 162740964598.74,
    "amortize_direct_cost": 13236832236.098999,
    "new_disburse": 701498112734.99,
    "new_disburse_count": 6209,
    "new_interest_income": 5632036861.15,
    "special_mention": 235338929153.21002,
    "npl": 132030129126.01,
    "ckpn": 109823994635.99998,
    "npl_ratio": 0.006687765547755225,
    "coverage_ratio": 0.8318100979147237
  },
  {
    "period": "2024-02",
    "portfolio": 19428543944714.96,
    "balance": 17787878373252.082,
    "docf": 1640665571462.88,
    "interest_income": 160372396628.02997,
    "amortize_direct_cost": 12967492209.5626,
    "new_disburse": 337639865435.7,
    "new_disburse_count": 2899,
    "new_interest_income": 2722348461.62,
    "special_mention": 247123095430.79,
    "npl": 162405040175.36,
    "ckpn": 109790605825.39,
    "npl_ratio": 0.00835909477506358,
    "coverage_ratio": 0.6760295475241499
  },
  {
    "period": "2024-01",
    "portfolio": 19280428431352.184,
    "balance": 17651041847479.16,
    "docf": 1629386583873.02,
    "interest_income": 159384503976.53,
    "amortize_direct_cost": 12809868031.898064,
    "new_disburse": 353024391939.2,
    "new_disburse_count": 3124,
    "new_interest_income": 2840204907.93,
    "special_mention": 270739805124.99002,
    "npl": 161732313226.58002,
    "ckpn": 125912554981.26,
    "npl_ratio": 0.008388419054194084,
    "coverage_ratio": 0.7785244177201739
  }
];

const lostData = [
  {
    "period": "2026-01",
    "lost_portfolio": 7994369538.86,
    "lost_count": 516,
    "direct_cost": 112411166.43999997,
    "lunas": 441579418.46999985,
    "pelunasan": 6072148900.959999,
    "pelunasan_jf": 1326995020.9599998,
    "rehab": 147057946.67000002,
    "restruct": 0.0,
    "passaway": 6588251.8,
    "writeoff": 0.0
  },
  {
    "period": "2025-12",
    "lost_portfolio": 107062335459.91,
    "lost_count": 1742,
    "direct_cost": 7243692758.58,
    "lunas": 539329845.3099998,
    "pelunasan": 8091089577.82,
    "pelunasan_jf": 4223457752.7900014,
    "rehab": 1857414444.44,
    "restruct": 367415178.96,
    "passaway": 89722362227.86996,
    "writeoff": 2261266432.72
  },
  {
    "period": "2025-11",
    "lost_portfolio": 140138960288.82,
    "lost_count": 2183,
    "direct_cost": 9857460385.38,
    "lunas": 646047604.9999998,
    "pelunasan": 8604948335.779999,
    "pelunasan_jf": 2311942646.1600003,
    "rehab": 1786091758.3099997,
    "restruct": 92533359.00999999,
    "passaway": 126697396584.5601,
    "writeoff": 0.0
  },
  {
    "period": "2025-10",
    "lost_portfolio": 125929694390.24,
    "lost_count": 1927,
    "direct_cost": 9750362306.48,
    "lunas": 532459989.67999995,
    "pelunasan": 11313699980.110003,
    "pelunasan_jf": 1742398743.1500003,
    "rehab": 3066370297.69,
    "restruct": 399173854.85999995,
    "passaway": 108875591524.74995,
    "writeoff": 0.0
  },
  {
    "period": "2025-09",
    "lost_portfolio": 97636115507.91,
    "lost_count": 1751,
    "direct_cost": 5495556936.189999,
    "lunas": 718327442.7599998,
    "pelunasan": 8810132834.55,
    "pelunasan_jf": 2333985519.81,
    "rehab": 4690160609.909999,
    "restruct": 1340872226.8300002,
    "passaway": 79742636874.05003,
    "writeoff": 0.0
  },
  {
    "period": "2025-08",
    "lost_portfolio": 39356035366.94,
    "lost_count": 957,
    "direct_cost": 2618008681.87,
    "lunas": 518620099.21000004,
    "pelunasan": 7767197826.700001,
    "pelunasan_jf": 2916471722.0499997,
    "rehab": 3833337265.2899995,
    "restruct": 682723646.39,
    "passaway": 23637684807.29999,
    "writeoff": 0.0
  },
  {
    "period": "2025-07",
    "lost_portfolio": 46386995212.38,
    "lost_count": 1036,
    "direct_cost": 2387923043.7499995,
    "lunas": 430061774.4599999,
    "pelunasan": 7882164701.399996,
    "pelunasan_jf": 2943479483.0200005,
    "rehab": 3516421310.2200003,
    "restruct": 412057368.44,
    "passaway": 31202810574.84,
    "writeoff": 0.0
  },
  {
    "period": "2025-06",
    "lost_portfolio": 36148044325.880005,
    "lost_count": 928,
    "direct_cost": 1978777827.6500003,
    "lunas": 515879472.8699997,
    "pelunasan": 6702317523.970002,
    "pelunasan_jf": 1626967018.16,
    "rehab": 3482932086.639999,
    "restruct": 110918850.62,
    "passaway": 23709029373.62002,
    "writeoff": 0.0
  },
  {
    "period": "2025-05",
    "lost_portfolio": 35133255309.94,
    "lost_count": 798,
    "direct_cost": 2142685283.36,
    "lunas": 449814874.01,
    "pelunasan": 5130569102.089998,
    "pelunasan_jf": 2078802478.8800004,
    "rehab": 4361681163.210001,
    "restruct": 0.0,
    "passaway": 22912059778.73999,
    "writeoff": 200327913.01
  },
  {
    "period": "2025-04",
    "lost_portfolio": 31498224570.31,
    "lost_count": 812,
    "direct_cost": 1570349718.0400002,
    "lunas": 526470796.3100002,
    "pelunasan": 4861054914.959997,
    "pelunasan_jf": 997038685.8900001,
    "rehab": 2773758247.570001,
    "restruct": 0.0,
    "passaway": 22339901925.580006,
    "writeoff": 0.0
  },
  {
    "period": "2025-03",
    "lost_portfolio": 35653560740.39,
    "lost_count": 819,
    "direct_cost": 2216747555.64,
    "lunas": 466410626.8899998,
    "pelunasan": 9775657441.219994,
    "pelunasan_jf": 1141396435.03,
    "rehab": 2928263210.27,
    "restruct": 212347955.78,
    "passaway": 21129485071.199986,
    "writeoff": 0.0
  },
  {
    "period": "2025-02",
    "lost_portfolio": 34230005039.18,
    "lost_count": 816,
    "direct_cost": 1093891850.6999998,
    "lunas": 457320891.48999995,
    "pelunasan": 17704950353.250004,
    "pelunasan_jf": 4882627094.219999,
    "rehab": 2484648984.53,
    "restruct": 0.0,
    "passaway": 8700457715.69,
    "writeoff": 0.0
  },
  {
    "period": "2025-01",
    "lost_portfolio": 21628264628.56,
    "lost_count": 646,
    "direct_cost": 299505078.26000005,
    "lunas": 499528717.35000026,
    "pelunasan": 16729819980.050001,
    "pelunasan_jf": 2078937203.1200004,
    "rehab": 1390408254.4,
    "restruct": 326882050.96000004,
    "passaway": 602688422.68,
    "writeoff": 0.0
  },
  {
    "period": "2024-12",
    "lost_portfolio": 25523227379.12,
    "lost_count": 675,
    "direct_cost": 520680935.7599999,
    "lunas": 564423320.8600001,
    "pelunasan": 16433005302.96,
    "pelunasan_jf": 2215784688.97,
    "rehab": 3369796802.109999,
    "restruct": 422506065.92999995,
    "passaway": 2517711198.29,
    "writeoff": 0.0
  },
  {
    "period": "2024-11",
    "lost_portfolio": 276131554726.78,
    "lost_count": 3445,
    "direct_cost": 21404835813.33,
    "lunas": 588028845.5900004,
    "pelunasan": 14712026798.89,
    "pelunasan_jf": 3522106666.2400002,
    "rehab": 4506672414.6,
    "restruct": 910986069.12,
    "passaway": 251891733932.33963,
    "writeoff": 0.0
  },
  {
    "period": "2024-10",
    "lost_portfolio": 64875271007.380005,
    "lost_count": 1191,
    "direct_cost": 3760284618.249999,
    "lunas": 681764011.6999998,
    "pelunasan": 11490829014.739998,
    "pelunasan_jf": 3109539587.619999,
    "rehab": 8143869367.049999,
    "restruct": 2134567269.39,
    "passaway": 39314701756.87999,
    "writeoff": 0.0
  },
  {
    "period": "2024-09",
    "lost_portfolio": 58040008601.74,
    "lost_count": 1105,
    "direct_cost": 3149743398.2000003,
    "lunas": 653559755.17,
    "pelunasan": 15051801226.409998,
    "pelunasan_jf": 2685890165.6300006,
    "rehab": 6495087963.55,
    "restruct": 2320271643.8500004,
    "passaway": 30833397847.13,
    "writeoff": 0.0
  },
  {
    "period": "2024-08",
    "lost_portfolio": 109071781933.37,
    "lost_count": 1661,
    "direct_cost": 6421860839.550001,
    "lunas": 444179621.1000001,
    "pelunasan": 16488278815.760004,
    "pelunasan_jf": 3342651390.06,
    "rehab": 4374886788.279999,
    "restruct": 2883517991.5200005,
    "passaway": 81538267326.65004,
    "writeoff": 0.0
  },
  {
    "period": "2024-07",
    "lost_portfolio": 45561521338.979996,
    "lost_count": 757,
    "direct_cost": 2290912141.66,
    "lunas": 322535544.1999998,
    "pelunasan": 16500676716.240004,
    "pelunasan_jf": 3428486082.25,
    "rehab": 5559679027.699999,
    "restruct": 2555809904.75,
    "passaway": 17194334063.839996,
    "writeoff": 0.0
  },
  {
    "period": "2024-06",
    "lost_portfolio": 74466023263.61,
    "lost_count": 1260,
    "direct_cost": 4380568380.42,
    "lunas": 392437663.0799997,
    "pelunasan": 9460651043.950006,
    "pelunasan_jf": 1702837083.23,
    "rehab": 706284547.9499999,
    "restruct": 2100788504.65,
    "passaway": 57499514226.669975,
    "writeoff": 2603510194.08
  },
  {
    "period": "2024-05",
    "lost_portfolio": 62970897659.27,
    "lost_count": 948,
    "direct_cost": 3778153518.28,
    "lunas": 330024357.7499998,
    "pelunasan": 16721190958.67001,
    "pelunasan_jf": 3059787379.1400003,
    "rehab": 1584667164.66,
    "restruct": 2673082830.0900006,
    "passaway": 38602144968.960014,
    "writeoff": 0.0
  },
  {
    "period": "2024-04",
    "lost_portfolio": 110796440153.89001,
    "lost_count": 1729,
    "direct_cost": 8595662805.189999,
    "lunas": 405464594.59000003,
    "pelunasan": 13794077222.060007,
    "pelunasan_jf": 1707416386.9200003,
    "rehab": 52216989620.340034,
    "restruct": 1471970421.09,
    "passaway": 41200521908.88994,
    "writeoff": 0.0
  },
  {
    "period": "2024-03",
    "lost_portfolio": 310441552366.57,
    "lost_count": 4749,
    "direct_cost": 23672596153.02,
    "lunas": 449216421.96999997,
    "pelunasan": 17067634742.590002,
    "pelunasan_jf": 2468617800.6600003,
    "rehab": 248270803761.00015,
    "restruct": 1754105760.11,
    "passaway": 40431173880.240005,
    "writeoff": 0.0
  },
  {
    "period": "2024-02",
    "lost_portfolio": 100201611823.31999,
    "lost_count": 1666,
    "direct_cost": 5304776995.25,
    "lunas": 398394046.2400001,
    "pelunasan": 16228685020.619991,
    "pelunasan_jf": 1988516829.9400003,
    "rehab": 36620628498.63,
    "restruct": 4248032864.11,
    "passaway": 40717354563.779976,
    "writeoff": 0.0
  }
];

const ageDistribution = {
  "2024-01": [
    {
      "age_group": "40-45 th",
      "debitur": 1457,
      "portfolio": 182725183607.23,
      "period": "2024-01",
      "avg_Porto": 125411931.09624572
    },
    {
      "age_group": "46-50 th",
      "debitur": 4248,
      "portfolio": 626885111173.97,
      "period": "2024-01",
      "avg_Porto": 147571824.66430554
    },
    {
      "age_group": "51-55 th",
      "debitur": 13160,
      "portfolio": 2238563559835.53,
      "period": "2024-01",
      "avg_Porto": 170103613.9692652
    },
    {
      "age_group": "56-60 th",
      "debitur": 28990,
      "portfolio": 5651499535325.52,
      "period": "2024-01",
      "avg_Porto": 194946517.25855535
    },
    {
      "age_group": "61-65 th",
      "debitur": 41371,
      "portfolio": 8175524204840.45,
      "period": "2024-01",
      "avg_Porto": 197614855.9338776
    },
    {
      "age_group": "> 65 th",
      "debitur": 24510,
      "portfolio": 2405230836569.48,
      "period": "2024-01",
      "avg_Porto": 98132633.07097022
    }
  ],
  "2024-02": [
    {
      "age_group": "51-55 th",
      "debitur": 13218,
      "portfolio": 2250314600535.29,
      "period": "2024-02",
      "avg_Porto": 170246224.8854055
    },
    {
      "age_group": "46-50 th",
      "debitur": 4293,
      "portfolio": 635528675675.96,
      "period": "2024-02",
      "avg_Porto": 148038359.11389703
    },
    {
      "age_group": "40-45 th",
      "debitur": 1478,
      "portfolio": 185227057510.67,
      "period": "2024-02",
      "avg_Porto": 125322772.33468878
    },
    {
      "age_group": "56-60 th",
      "debitur": 29050,
      "portfolio": 5665036029501.9,
      "period": "2024-02",
      "avg_Porto": 195009846.1102203
    },
    {
      "age_group": "> 65 th",
      "debitur": 24507,
      "portfolio": 2423475776248.15,
      "period": "2024-02",
      "avg_Porto": 98889124.58677724
    },
    {
      "age_group": "61-65 th",
      "debitur": 41643,
      "portfolio": 8268961805242.99,
      "period": "2024-02",
      "avg_Porto": 198567869.87592128
    }
  ],
  "2024-03": [
    {
      "age_group": "40-45 th",
      "debitur": 1484,
      "portfolio": 188308316330.2,
      "period": "2024-03",
      "avg_Porto": 126892396.44892184
    },
    {
      "age_group": "46-50 th",
      "debitur": 4321,
      "portfolio": 642572612902.94,
      "period": "2024-03",
      "avg_Porto": 148709236.95971763
    },
    {
      "age_group": "51-55 th",
      "debitur": 13223,
      "portfolio": 2270870033489.3,
      "period": "2024-03",
      "avg_Porto": 171736370.98156998
    },
    {
      "age_group": "56-60 th",
      "debitur": 29097,
      "portfolio": 5728922809525.36,
      "period": "2024-03",
      "avg_Porto": 196890497.6294931
    },
    {
      "age_group": "61-65 th",
      "debitur": 42048,
      "portfolio": 8449972360092.71,
      "period": "2024-03",
      "avg_Porto": 200960149.3553251
    },
    {
      "age_group": "> 65 th",
      "debitur": 24613,
      "portfolio": 2461392996158.31,
      "period": "2024-03",
      "avg_Porto": 100003778.33495754
    }
  ],
  "2024-04": [
    {
      "age_group": "40-45 th",
      "debitur": 1470,
      "portfolio": 186726359808.14,
      "period": "2024-04",
      "avg_Porto": 127024734.56336056
    },
    {
      "age_group": "51-55 th",
      "debitur": 13186,
      "portfolio": 2267635507025.01,
      "period": "2024-04",
      "avg_Porto": 171972964.282194
    },
    {
      "age_group": "46-50 th",
      "debitur": 4313,
      "portfolio": 641604992938.39,
      "period": "2024-04",
      "avg_Porto": 148760721.7571041
    },
    {
      "age_group": "> 65 th",
      "debitur": 24819,
      "portfolio": 2497997403704.33,
      "period": "2024-04",
      "avg_Porto": 100648591.95391957
    },
    {
      "age_group": "61-65 th",
      "debitur": 42538,
      "portfolio": 8601329764467.95,
      "period": "2024-04",
      "avg_Porto": 202203436.09168157
    },
    {
      "age_group": "56-60 th",
      "debitur": 28919,
      "portfolio": 5703283027396.28,
      "period": "2024-04",
      "avg_Porto": 197215776.04330304
    }
  ],
  "2024-05": [
    {
      "age_group": "40-45 th",
      "debitur": 1470,
      "portfolio": 186221527961.6,
      "period": "2024-05",
      "avg_Porto": 126681311.53850341
    },
    {
      "age_group": "46-50 th",
      "debitur": 4347,
      "portfolio": 648980827206.56,
      "period": "2024-05",
      "avg_Porto": 149293956.10916954
    },
    {
      "age_group": "51-55 th",
      "debitur": 13149,
      "portfolio": 2271120459588.3,
      "period": "2024-05",
      "avg_Porto": 172721914.9432124
    },
    {
      "age_group": "56-60 th",
      "debitur": 28865,
      "portfolio": 5720108615109.61,
      "period": "2024-05",
      "avg_Porto": 198167629.13942873
    },
    {
      "age_group": "61-65 th",
      "debitur": 43000,
      "portfolio": 8768267217530.37,
      "period": "2024-05",
      "avg_Porto": 203913191.10535744
    },
    {
      "age_group": "> 65 th",
      "debitur": 25069,
      "portfolio": 2547843611520.37,
      "period": "2024-05",
      "avg_Porto": 101633236.72744705
    }
  ],
  "2024-06": [
    {
      "age_group": "40-45 th",
      "debitur": 1447,
      "portfolio": 184503126606.02,
      "period": "2024-06",
      "avg_Porto": 127507343.88805804
    },
    {
      "age_group": "46-50 th",
      "debitur": 4360,
      "portfolio": 654504052795.99,
      "period": "2024-06",
      "avg_Porto": 150115608.43944725
    },
    {
      "age_group": "51-55 th",
      "debitur": 13046,
      "portfolio": 2265380657138.79,
      "period": "2024-06",
      "avg_Porto": 173645612.22894296
    },
    {
      "age_group": "56-60 th",
      "debitur": 28826,
      "portfolio": 5760433318998.36,
      "period": "2024-06",
      "avg_Porto": 199834639.52675918
    },
    {
      "age_group": "61-65 th",
      "debitur": 43260,
      "portfolio": 8940750848181.33,
      "period": "2024-06",
      "avg_Porto": 206674776.8881491
    },
    {
      "age_group": "> 65 th",
      "debitur": 25255,
      "portfolio": 2606343725132.73,
      "period": "2024-06",
      "avg_Porto": 103201097.80767095
    }
  ],
  "2024-07": [
    {
      "age_group": "40-45 th",
      "debitur": 1445,
      "portfolio": 185569672067.94,
      "period": "2024-07",
      "avg_Porto": 128421918.38611765
    },
    {
      "age_group": "46-50 th",
      "debitur": 4370,
      "portfolio": 660090304040.2,
      "period": "2024-07",
      "avg_Porto": 151050412.82384437
    },
    {
      "age_group": "51-55 th",
      "debitur": 13032,
      "portfolio": 2281009256292.39,
      "period": "2024-07",
      "avg_Porto": 175031403.95122698
    },
    {
      "age_group": "56-60 th",
      "debitur": 28785,
      "portfolio": 5797269465101.07,
      "period": "2024-07",
      "avg_Porto": 201398973.9482741
    },
    {
      "age_group": "61-65 th",
      "debitur": 43722,
      "portfolio": 9137465412246.58,
      "period": "2024-07",
      "avg_Porto": 208990105.94772837
    },
    {
      "age_group": "> 65 th",
      "debitur": 25670,
      "portfolio": 2682503632018.11,
      "period": "2024-07",
      "avg_Porto": 104499557.14912777
    }
  ],
  "2024-08": [
    {
      "age_group": "40-45 th",
      "debitur": 1416,
      "portfolio": 181470551974.5,
      "period": "2024-08",
      "avg_Porto": 128157169.47351696
    },
    {
      "age_group": "46-50 th",
      "debitur": 4390,
      "portfolio": 666840062787.17,
      "period": "2024-08",
      "avg_Porto": 151899786.51188383
    },
    {
      "age_group": "51-55 th",
      "debitur": 13021,
      "portfolio": 2292438330282.6,
      "period": "2024-08",
      "avg_Porto": 176057010.23597267
    },
    {
      "age_group": "56-60 th",
      "debitur": 28902,
      "portfolio": 5859195880816.3,
      "period": "2024-08",
      "avg_Porto": 202726312.39416996
    },
    {
      "age_group": "61-65 th",
      "debitur": 43951,
      "portfolio": 9281721692409.3,
      "period": "2024-08",
      "avg_Porto": 211183401.79766786
    },
    {
      "age_group": "> 65 th",
      "debitur": 25829,
      "portfolio": 2744919232801.0,
      "period": "2024-08",
      "avg_Porto": 106272764.44310659
    }
  ],
  "2024-09": [
    {
      "age_group": "51-55 th",
      "debitur": 12927,
      "portfolio": 2283934419015.93,
      "period": "2024-09",
      "avg_Porto": 176679385.70557207
    },
    {
      "age_group": "46-50 th",
      "debitur": 4393,
      "portfolio": 670923780607.78,
      "period": "2024-09",
      "avg_Porto": 152725650.03591624
    },
    {
      "age_group": "40-45 th",
      "debitur": 1395,
      "portfolio": 179024557718.81,
      "period": "2024-09",
      "avg_Porto": 128333016.2858853
    },
    {
      "age_group": "> 65 th",
      "debitur": 26228,
      "portfolio": 2834954631786.94,
      "period": "2024-09",
      "avg_Porto": 108088860.44635275
    },
    {
      "age_group": "61-65 th",
      "debitur": 44060,
      "portfolio": 9374373042039.52,
      "period": "2024-09",
      "avg_Porto": 212763800.31864548
    },
    {
      "age_group": "56-60 th",
      "debitur": 28822,
      "portfolio": 5850559830599.52,
      "period": "2024-09",
      "avg_Porto": 202989377.2326528
    }
  ],
  "2024-10": [
    {
      "age_group": "40-45 th",
      "debitur": 1393,
      "portfolio": 179599875625.45,
      "period": "2024-10",
      "avg_Porto": 128930276.83090453
    },
    {
      "age_group": "51-55 th",
      "debitur": 12994,
      "portfolio": 2311978052292.09,
      "period": "2024-10",
      "avg_Porto": 177926585.52347928
    },
    {
      "age_group": "46-50 th",
      "debitur": 4419,
      "portfolio": 678590135431.66,
      "period": "2024-10",
      "avg_Porto": 153561922.47831184
    },
    {
      "age_group": "> 65 th",
      "debitur": 26329,
      "portfolio": 2889005528899.44,
      "period": "2024-10",
      "avg_Porto": 109727127.08038436
    },
    {
      "age_group": "61-65 th",
      "debitur": 44337,
      "portfolio": 9477338974969.87,
      "period": "2024-10",
      "avg_Porto": 213756884.20438614
    },
    {
      "age_group": "56-60 th",
      "debitur": 28891,
      "portfolio": 5876493903845.85,
      "period": "2024-10",
      "avg_Porto": 203402232.66227716
    }
  ],
  "2024-11": [
    {
      "age_group": "40-45 th",
      "debitur": 1372,
      "portfolio": 177042764123.96,
      "period": "2024-11",
      "avg_Porto": 129039915.5422449
    },
    {
      "age_group": "46-50 th",
      "debitur": 4440,
      "portfolio": 684261354088.44,
      "period": "2024-11",
      "avg_Porto": 154112917.58748648
    },
    {
      "age_group": "51-55 th",
      "debitur": 12946,
      "portfolio": 2319125954791.73,
      "period": "2024-11",
      "avg_Porto": 179138417.64187625
    },
    {
      "age_group": "56-60 th",
      "debitur": 28584,
      "portfolio": 5830781288888.72,
      "period": "2024-11",
      "avg_Porto": 203987590.57125384
    },
    {
      "age_group": "61-65 th",
      "debitur": 43888,
      "portfolio": 9427462386121.95,
      "period": "2024-11",
      "avg_Porto": 214807290.970697
    },
    {
      "age_group": "> 65 th",
      "debitur": 26054,
      "portfolio": 2892334321406.61,
      "period": "2024-11",
      "avg_Porto": 111013062.15577684
    }
  ],
  "2024-12": [
    {
      "age_group": "61-65 th",
      "debitur": 43927,
      "portfolio": 9450803069783.9,
      "period": "2024-12",
      "avg_Porto": 215147928.83155918
    },
    {
      "age_group": "40-45 th",
      "debitur": 1368,
      "portfolio": 176786020251.88,
      "period": "2024-12",
      "avg_Porto": 129229546.96774854
    },
    {
      "age_group": "46-50 th",
      "debitur": 4422,
      "portfolio": 680637004608.73,
      "period": "2024-12",
      "avg_Porto": 153920625.19419494
    },
    {
      "age_group": "51-55 th",
      "debitur": 12844,
      "portfolio": 2297796821236.53,
      "period": "2024-12",
      "avg_Porto": 178900406.51171985
    },
    {
      "age_group": "56-60 th",
      "debitur": 28202,
      "portfolio": 5710399800293.98,
      "period": "2024-12",
      "avg_Porto": 202482086.3872768
    },
    {
      "age_group": "> 65 th",
      "debitur": 26276,
      "portfolio": 2936450904042.1,
      "period": "2024-12",
      "avg_Porto": 111754106.56272264
    }
  ],
  "2025-01": [
    {
      "age_group": "46-50 th",
      "debitur": 4380,
      "portfolio": 674037619950.45,
      "period": "2025-01",
      "avg_Porto": 153889867.5685959
    },
    {
      "age_group": "40-45 th",
      "debitur": 1356,
      "portfolio": 174896512789.25,
      "period": "2025-01",
      "avg_Porto": 128979729.19561209
    },
    {
      "age_group": "51-55 th",
      "debitur": 12680,
      "portfolio": 2265411129187.98,
      "period": "2025-01",
      "avg_Porto": 178660183.6899038
    },
    {
      "age_group": "56-60 th",
      "debitur": 27715,
      "portfolio": 5572602547134.42,
      "period": "2025-01",
      "avg_Porto": 201068105.61553022
    },
    {
      "age_group": "> 65 th",
      "debitur": 26782,
      "portfolio": 3021393484135.96,
      "period": "2025-01",
      "avg_Porto": 112814333.6620103
    },
    {
      "age_group": "61-65 th",
      "debitur": 43873,
      "portfolio": 9451670070730.85,
      "period": "2025-01",
      "avg_Porto": 215432499.95967564
    }
  ],
  "2025-02": [
    {
      "age_group": "40-45 th",
      "debitur": 1324,
      "portfolio": 169846377001.77,
      "period": "2025-02",
      "avg_Porto": 128282762.08592899
    },
    {
      "age_group": "46-50 th",
      "debitur": 4390,
      "portfolio": 675110500152.48,
      "period": "2025-02",
      "avg_Porto": 153783713.01878816
    },
    {
      "age_group": "51-55 th",
      "debitur": 12572,
      "portfolio": 2240208572755.53,
      "period": "2025-02",
      "avg_Porto": 178190309.63693365
    },
    {
      "age_group": "56-60 th",
      "debitur": 27428,
      "portfolio": 5494638337278.75,
      "period": "2025-02",
      "avg_Porto": 200329529.5784873
    },
    {
      "age_group": "61-65 th",
      "debitur": 43858,
      "portfolio": 9435561846327.87,
      "period": "2025-02",
      "avg_Porto": 215138899.3188898
    },
    {
      "age_group": "> 65 th",
      "debitur": 26913,
      "portfolio": 3060535977784.65,
      "period": "2025-02",
      "avg_Porto": 113719614.2304704
    }
  ],
  "2025-03": [
    {
      "age_group": "51-55 th",
      "debitur": 12461,
      "portfolio": 2212188203975.36,
      "period": "2025-03",
      "avg_Porto": 177528946.63151914
    },
    {
      "age_group": "46-50 th",
      "debitur": 4387,
      "portfolio": 674149965650.58,
      "period": "2025-03",
      "avg_Porto": 153669926.0657807
    },
    {
      "age_group": "40-45 th",
      "debitur": 1313,
      "portfolio": 168763658620.72,
      "period": "2025-03",
      "avg_Porto": 128532870.2366489
    },
    {
      "age_group": "> 65 th",
      "debitur": 27121,
      "portfolio": 3098791256122.62,
      "period": "2025-03",
      "avg_Porto": 114258001.4056495
    },
    {
      "age_group": "61-65 th",
      "debitur": 43854,
      "portfolio": 9441836665101.5,
      "period": "2025-03",
      "avg_Porto": 215301606.8112715
    },
    {
      "age_group": "56-60 th",
      "debitur": 27158,
      "portfolio": 5413351181201.65,
      "period": "2025-03",
      "avg_Porto": 199328049.97428566
    }
  ],
  "2025-04": [
    {
      "age_group": "46-50 th",
      "debitur": 4351,
      "portfolio": 667198640746.88,
      "period": "2025-04",
      "avg_Porto": 153343746.43688348
    },
    {
      "age_group": "40-45 th",
      "debitur": 1282,
      "portfolio": 164243421698.62,
      "period": "2025-04",
      "avg_Porto": 128114993.52466458
    },
    {
      "age_group": "51-55 th",
      "debitur": 12325,
      "portfolio": 2183958706600.96,
      "period": "2025-04",
      "avg_Porto": 177197460.9818223
    },
    {
      "age_group": "56-60 th",
      "debitur": 26829,
      "portfolio": 5319914659273.08,
      "period": "2025-04",
      "avg_Porto": 198289711.1063804
    },
    {
      "age_group": "> 65 th",
      "debitur": 27408,
      "portfolio": 3160907053193.01,
      "period": "2025-04",
      "avg_Porto": 115327898.90517403
    },
    {
      "age_group": "61-65 th",
      "debitur": 43870,
      "portfolio": 9438696174665.38,
      "period": "2025-04",
      "avg_Porto": 215151497.0290718
    }
  ],
  "2025-05": [
    {
      "age_group": "40-45 th",
      "debitur": 1253,
      "portfolio": 159604920602.76,
      "period": "2025-05",
      "avg_Porto": 127378228.73324822
    },
    {
      "age_group": "46-50 th",
      "debitur": 4323,
      "portfolio": 665813941305.63,
      "period": "2025-05",
      "avg_Porto": 154016641.52339348
    },
    {
      "age_group": "51-55 th",
      "debitur": 12180,
      "portfolio": 2153347271929.77,
      "period": "2025-05",
      "avg_Porto": 176793700.48684484
    },
    {
      "age_group": "56-60 th",
      "debitur": 26452,
      "portfolio": 5215875285824.38,
      "period": "2025-05",
      "avg_Porto": 197182643.4985778
    },
    {
      "age_group": "61-65 th",
      "debitur": 43900,
      "portfolio": 9437076434303.43,
      "period": "2025-05",
      "avg_Porto": 214967572.53538564
    },
    {
      "age_group": "> 65 th",
      "debitur": 27795,
      "portfolio": 3237554997303.84,
      "period": "2025-05",
      "avg_Porto": 116479762.4502191
    }
  ],
  "2025-06": [
    {
      "age_group": "40-45 th",
      "debitur": 1233,
      "portfolio": 156607768788.01,
      "period": "2025-06",
      "avg_Porto": 127013599.99027576
    },
    {
      "age_group": "46-50 th",
      "debitur": 4292,
      "portfolio": 661418005020.5,
      "period": "2025-06",
      "avg_Porto": 154104847.39527026
    },
    {
      "age_group": "51-55 th",
      "debitur": 12027,
      "portfolio": 2124301591856.8,
      "period": "2025-06",
      "avg_Porto": 176627720.28409413
    },
    {
      "age_group": "56-60 th",
      "debitur": 26217,
      "portfolio": 5137079094533.28,
      "period": "2025-06",
      "avg_Porto": 195944581.55140865
    },
    {
      "age_group": "61-65 th",
      "debitur": 43769,
      "portfolio": 9411086949247.81,
      "period": "2025-06",
      "avg_Porto": 215017179.9503715
    },
    {
      "age_group": "> 65 th",
      "debitur": 28171,
      "portfolio": 3316391139692.26,
      "period": "2025-06",
      "avg_Porto": 117723585.94626601
    }
  ],
  "2025-07": [
    {
      "age_group": "40-45 th",
      "debitur": 1205,
      "portfolio": 152894568835.71,
      "period": "2025-07",
      "avg_Porto": 126883459.61469708
    },
    {
      "age_group": "46-50 th",
      "debitur": 4219,
      "portfolio": 648418402320.93,
      "period": "2025-07",
      "avg_Porto": 153690069.28678125
    },
    {
      "age_group": "51-55 th",
      "debitur": 11863,
      "portfolio": 2098642443145.13,
      "period": "2025-07",
      "avg_Porto": 176906553.4135657
    },
    {
      "age_group": "56-60 th",
      "debitur": 25863,
      "portfolio": 5030710031837.32,
      "period": "2025-07",
      "avg_Porto": 194513785.40143526
    },
    {
      "age_group": "61-65 th",
      "debitur": 43711,
      "portfolio": 9410028067902.71,
      "period": "2025-07",
      "avg_Porto": 215278261.03046626
    },
    {
      "age_group": "> 65 th",
      "debitur": 28554,
      "portfolio": 3383169955956.51,
      "period": "2025-07",
      "avg_Porto": 118483223.22464487
    }
  ],
  "2025-08": [
    {
      "age_group": "40-45 th",
      "debitur": 1172,
      "portfolio": 148068804734.23,
      "period": "2025-08",
      "avg_Porto": 126338570.59234643
    },
    {
      "age_group": "46-50 th",
      "debitur": 4162,
      "portfolio": 639445752554.53,
      "period": "2025-08",
      "avg_Porto": 153639056.35620615
    },
    {
      "age_group": "51-55 th",
      "debitur": 11730,
      "portfolio": 2076011077029.68,
      "period": "2025-08",
      "avg_Porto": 176983041.5200068
    },
    {
      "age_group": "56-60 th",
      "debitur": 25566,
      "portfolio": 4947420967351.69,
      "period": "2025-08",
      "avg_Porto": 193515644.50253034
    },
    {
      "age_group": "61-65 th",
      "debitur": 43532,
      "portfolio": 9372017514117.79,
      "period": "2025-08",
      "avg_Porto": 215290304.00895408
    },
    {
      "age_group": "> 65 th",
      "debitur": 28969,
      "portfolio": 3468325933138.52,
      "period": "2025-08",
      "avg_Porto": 119725428.32470986
    }
  ],
  "2025-09": [
    {
      "age_group": "40-45 th",
      "debitur": 1146,
      "portfolio": 145115698207.55,
      "period": "2025-09",
      "avg_Porto": 126628008.90711169
    },
    {
      "age_group": "46-50 th",
      "debitur": 4117,
      "portfolio": 631713383794.34,
      "period": "2025-09",
      "avg_Porto": 153440219.5274083
    },
    {
      "age_group": "51-55 th",
      "debitur": 11574,
      "portfolio": 2048169240814.56,
      "period": "2025-09",
      "avg_Porto": 176962954.96928978
    },
    {
      "age_group": "56-60 th",
      "debitur": 25208,
      "portfolio": 4857314446906.32,
      "period": "2025-09",
      "avg_Porto": 192689402.05118695
    },
    {
      "age_group": "61-65 th",
      "debitur": 43240,
      "portfolio": 9301195483429.31,
      "period": "2025-09",
      "avg_Porto": 215106278.5251922
    },
    {
      "age_group": "> 65 th",
      "debitur": 29143,
      "portfolio": 3535415670569.32,
      "period": "2025-09",
      "avg_Porto": 121312688.1436132
    }
  ],
  "2025-10": [
    {
      "age_group": "51-55 th",
      "debitur": 11414,
      "portfolio": 2013805595549.35,
      "period": "2025-10",
      "avg_Porto": 176432941.6111223
    },
    {
      "age_group": "46-50 th",
      "debitur": 4075,
      "portfolio": 622493030487.19,
      "period": "2025-10",
      "avg_Porto": 152759025.886427
    },
    {
      "age_group": "40-45 th",
      "debitur": 1112,
      "portfolio": 140791561426.27,
      "period": "2025-10",
      "avg_Porto": 126611116.39053057
    },
    {
      "age_group": "56-60 th",
      "debitur": 25006,
      "portfolio": 4799574128025.68,
      "period": "2025-10",
      "avg_Porto": 191936900.2649636
    },
    {
      "age_group": "> 65 th",
      "debitur": 29261,
      "portfolio": 3576362170660.27,
      "period": "2025-10",
      "avg_Porto": 122222828.01887393
    },
    {
      "age_group": "61-65 th",
      "debitur": 42821,
      "portfolio": 9199667680243.53,
      "period": "2025-10",
      "avg_Porto": 214840094.35191914
    }
  ],
  "2025-11": [
    {
      "age_group": "40-45 th",
      "debitur": 1075,
      "portfolio": 135289954412.21,
      "period": "2025-11",
      "avg_Porto": 125851120.38345116
    },
    {
      "age_group": "46-50 th",
      "debitur": 4022,
      "portfolio": 611037782105.47,
      "period": "2025-11",
      "avg_Porto": 151923864.27286673
    },
    {
      "age_group": "51-55 th",
      "debitur": 11209,
      "portfolio": 1973940033879.8,
      "period": "2025-11",
      "avg_Porto": 176103134.43481132
    },
    {
      "age_group": "56-60 th",
      "debitur": 24699,
      "portfolio": 4718645216700.81,
      "period": "2025-11",
      "avg_Porto": 191046002.53859708
    },
    {
      "age_group": "61-65 th",
      "debitur": 42441,
      "portfolio": 9103836429475.21,
      "period": "2025-11",
      "avg_Porto": 214505700.37169743
    },
    {
      "age_group": "> 65 th",
      "debitur": 29219,
      "portfolio": 3595909812592.96,
      "period": "2025-11",
      "avg_Porto": 123067518.14206372
    }
  ],
  "2025-12": [
    {
      "age_group": "40-45 th",
      "debitur": 1051,
      "portfolio": 131024964299.53,
      "period": "2025-12",
      "avg_Porto": 124666949.85683158
    },
    {
      "age_group": "46-50 th",
      "debitur": 3972,
      "portfolio": 599216247693.34,
      "period": "2025-12",
      "avg_Porto": 150860082.50084087
    },
    {
      "age_group": "51-55 th",
      "debitur": 11066,
      "portfolio": 1942136767218.36,
      "period": "2025-12",
      "avg_Porto": 175504858.77628413
    },
    {
      "age_group": "56-60 th",
      "debitur": 24405,
      "portfolio": 4639069721036.17,
      "period": "2025-12",
      "avg_Porto": 190086856.01459414
    },
    {
      "age_group": "61-65 th",
      "debitur": 42077,
      "portfolio": 9011534159825.06,
      "period": "2025-12",
      "avg_Porto": 214167696.3620282
    },
    {
      "age_group": "> 65 th",
      "debitur": 29312,
      "portfolio": 3632411957157.86,
      "period": "2025-12",
      "avg_Porto": 123922351.15849686
    }
  ],
  "2026-01": [
    {
      "age_group": "40-45 th",
      "debitur": 1020,
      "portfolio": 125891311880.03,
      "period": "2026-01",
      "avg_Porto": 123422854.78434314
    },
    {
      "age_group": "46-50 th",
      "debitur": 3925,
      "portfolio": 589510289783.53,
      "period": "2026-01",
      "avg_Porto": 150193704.40344715
    },
    {
      "age_group": "51-55 th",
      "debitur": 10850,
      "portfolio": 1895886473945.36,
      "period": "2026-01",
      "avg_Porto": 174736080.54795945
    },
    {
      "age_group": "56-60 th",
      "debitur": 24154,
      "portfolio": 4566805132228.47,
      "period": "2026-01",
      "avg_Porto": 189070345.79069594
    },
    {
      "age_group": "61-65 th",
      "debitur": 41669,
      "portfolio": 8914946719191.63,
      "period": "2026-01",
      "avg_Porto": 213946740.24314553
    },
    {
      "age_group": "> 65 th",
      "debitur": 30055,
      "portfolio": 3756735862258.88,
      "period": "2026-01",
      "avg_Porto": 124995370.5625979
    }
  ]
};

const productData = [
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 282406265.58,
    "Count": 1,
    "Period": "2026-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 323787898.82,
    "Count": 3,
    "Period": "2026-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 769983137.63,
    "Count": 3,
    "Period": "2026-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 1530993117.52,
    "Count": 14,
    "Period": "2026-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA",
    "Facility_Type": "NEW",
    "Amount": 6154591472.54,
    "Count": 206,
    "Period": "2026-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 16160010818.51,
    "Count": 410,
    "Period": "2026-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA",
    "Facility_Type": "New-Take Over",
    "Amount": 715894689.54,
    "Count": 9,
    "Period": "2025-12"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA",
    "Facility_Type": "TOP UP",
    "Amount": 717915493.37,
    "Count": 15,
    "Period": "2025-12"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 900841032.71,
    "Count": 6,
    "Period": "2025-12"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "TOP UP",
    "Amount": 3347447195.82,
    "Count": 45,
    "Period": "2025-12"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA",
    "Facility_Type": "NEW",
    "Amount": 12464992783.17,
    "Count": 347,
    "Period": "2025-12"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 34795088734.55,
    "Count": 629,
    "Period": "2025-12"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA",
    "Facility_Type": "TOP UP",
    "Amount": 427696215.23,
    "Count": 10,
    "Period": "2025-11"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA",
    "Facility_Type": "New-Take Over",
    "Amount": 819857806.3,
    "Count": 10,
    "Period": "2025-11"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 2108316024.99,
    "Count": 12,
    "Period": "2025-11"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "TOP UP",
    "Amount": 3221492967.78,
    "Count": 53,
    "Period": "2025-11"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA",
    "Facility_Type": "NEW",
    "Amount": 10945080403.08,
    "Count": 328,
    "Period": "2025-11"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 32243884305.16,
    "Count": 606,
    "Period": "2025-11"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA",
    "Facility_Type": "TOP UP",
    "Amount": 665893495.71,
    "Count": 14,
    "Period": "2025-10"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 1182447575.89,
    "Count": 4,
    "Period": "2025-10"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "NEW",
    "Amount": 1420219757.8799999,
    "Count": 6,
    "Period": "2025-10"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA",
    "Facility_Type": "New-Take Over",
    "Amount": 1607868380.3,
    "Count": 22,
    "Period": "2025-10"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 3545440969.08,
    "Count": 21,
    "Period": "2025-10"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "TOP UP",
    "Amount": 3757259050.3,
    "Count": 62,
    "Period": "2025-10"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 7682981798.41,
    "Count": 47,
    "Period": "2025-10"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 8957165835.79,
    "Count": 34,
    "Period": "2025-10"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA",
    "Facility_Type": "NEW",
    "Amount": 15192562668.9,
    "Count": 433,
    "Period": "2025-10"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 43172806137.41,
    "Count": 766,
    "Period": "2025-10"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "TOP UP",
    "Amount": 763285727.08,
    "Count": 15,
    "Period": "2025-09"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "New-Take Over",
    "Amount": 1016561749.12,
    "Count": 13,
    "Period": "2025-09"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "NEW",
    "Amount": 1428103222.94,
    "Count": 7,
    "Period": "2025-09"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "TOP UP",
    "Amount": 2617454926.11,
    "Count": 49,
    "Period": "2025-09"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 3460988047.22,
    "Count": 13,
    "Period": "2025-09"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 5328171830.6,
    "Count": 30,
    "Period": "2025-09"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 8093453647.84,
    "Count": 53,
    "Period": "2025-09"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 10069882996.04,
    "Count": 38,
    "Period": "2025-09"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "NEW",
    "Amount": 14400523240.77,
    "Count": 451,
    "Period": "2025-09"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 44618923218.63,
    "Count": 881,
    "Period": "2025-09"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "TOP UP",
    "Amount": 351872757.12,
    "Count": 8,
    "Period": "2025-08"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "New-Take Over",
    "Amount": 380724758.83,
    "Count": 5,
    "Period": "2025-08"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 1686573405.06,
    "Count": 8,
    "Period": "2025-08"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "NEW",
    "Amount": 1830692471.24,
    "Count": 7,
    "Period": "2025-08"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "TOP UP",
    "Amount": 3040072757.74,
    "Count": 51,
    "Period": "2025-08"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 5662324909.36,
    "Count": 35,
    "Period": "2025-08"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 8496254851.64,
    "Count": 54,
    "Period": "2025-08"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 10382676485.94,
    "Count": 37,
    "Period": "2025-08"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "NEW",
    "Amount": 13878793510.27,
    "Count": 456,
    "Period": "2025-08"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 45884667371.9,
    "Count": 825,
    "Period": "2025-08"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "TOP UP",
    "Amount": 382570472.34,
    "Count": 10,
    "Period": "2025-07"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "NEW",
    "Amount": 1135580895.9,
    "Count": 6,
    "Period": "2025-07"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "New-Take Over",
    "Amount": 1511792049.38,
    "Count": 20,
    "Period": "2025-07"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 2441472967.7,
    "Count": 11,
    "Period": "2025-07"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "TOP UP",
    "Amount": 3230264110.54,
    "Count": 53,
    "Period": "2025-07"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 5238603569.56,
    "Count": 31,
    "Period": "2025-07"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 6881901870.78,
    "Count": 44,
    "Period": "2025-07"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 9531877983.4,
    "Count": 39,
    "Period": "2025-07"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "NEW",
    "Amount": 14813396704.77,
    "Count": 499,
    "Period": "2025-07"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 45345317771.3,
    "Count": 933,
    "Period": "2025-07"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "TOP UP",
    "Amount": 358911694.93,
    "Count": 9,
    "Period": "2025-06"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "New-Take Over",
    "Amount": 1034382323.53,
    "Count": 14,
    "Period": "2025-06"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "NEW",
    "Amount": 1335960566.31,
    "Count": 7,
    "Period": "2025-06"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "TOP UP",
    "Amount": 2344012237.06,
    "Count": 40,
    "Period": "2025-06"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 3478687283.17,
    "Count": 14,
    "Period": "2025-06"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 8659440806.63,
    "Count": 53,
    "Period": "2025-06"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 11290501938.7,
    "Count": 68,
    "Period": "2025-06"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "NEW",
    "Amount": 13565010815.33,
    "Count": 440,
    "Period": "2025-06"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 14130825261.69,
    "Count": 55,
    "Period": "2025-06"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 43742691200.46,
    "Count": 811,
    "Period": "2025-06"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "NEW",
    "Amount": 188613529.28,
    "Count": 1,
    "Period": "2025-05"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "TOP UP",
    "Amount": 477900000.0,
    "Count": 12,
    "Period": "2025-05"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "New-Take Over",
    "Amount": 1337390868.84,
    "Count": 13,
    "Period": "2025-05"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "TOP UP",
    "Amount": 2594711517.5,
    "Count": 43,
    "Period": "2025-05"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 4755235140.34,
    "Count": 21,
    "Period": "2025-05"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 6287762883.29,
    "Count": 37,
    "Period": "2025-05"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 8393482683.03,
    "Count": 41,
    "Period": "2025-05"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 12422177515.01,
    "Count": 50,
    "Period": "2025-05"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "NEW",
    "Amount": 15136030646.39,
    "Count": 481,
    "Period": "2025-05"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 43382140798.67,
    "Count": 853,
    "Period": "2025-05"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "TOP UP",
    "Amount": 54228831.69,
    "Count": 1,
    "Period": "2025-04"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "New-Take Over",
    "Amount": 1486500665.11,
    "Count": 19,
    "Period": "2025-04"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 2170336747.43,
    "Count": 9,
    "Period": "2025-04"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "TOP UP",
    "Amount": 2372004761.44,
    "Count": 35,
    "Period": "2025-04"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 2839478698.21,
    "Count": 18,
    "Period": "2025-04"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 5216706538.01,
    "Count": 27,
    "Period": "2025-04"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 7306215693.36,
    "Count": 28,
    "Period": "2025-04"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "NEW",
    "Amount": 15824653144.71,
    "Count": 505,
    "Period": "2025-04"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 45755664409.15,
    "Count": 899,
    "Period": "2025-04"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "TOP UP",
    "Amount": 110101575.62,
    "Count": 2,
    "Period": "2025-03"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "New-Take Over",
    "Amount": 274563840.4,
    "Count": 1,
    "Period": "2025-03"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "TOP UP",
    "Amount": 762500618.52,
    "Count": 12,
    "Period": "2025-03"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "NEW",
    "Amount": 823652583.94,
    "Count": 3,
    "Period": "2025-03"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "New-Take Over",
    "Amount": 2316779773.23,
    "Count": 34,
    "Period": "2025-03"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 3021602911.93,
    "Count": 12,
    "Period": "2025-03"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 5091125945.93,
    "Count": 29,
    "Period": "2025-03"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 7660405684.53,
    "Count": 39,
    "Period": "2025-03"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 13280949838.89,
    "Count": 53,
    "Period": "2025-03"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "NEW",
    "Amount": 18370486404.53,
    "Count": 603,
    "Period": "2025-03"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 42585009267.29,
    "Count": 874,
    "Period": "2025-03"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "TOP UP",
    "Amount": 36338739.84,
    "Count": 1,
    "Period": "2025-02"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "TOP UP",
    "Amount": 216328969.61,
    "Count": 1,
    "Period": "2025-02"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "NEW",
    "Amount": 699463542.87,
    "Count": 3,
    "Period": "2025-02"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "New-Take Over",
    "Amount": 1029267145.36,
    "Count": 4,
    "Period": "2025-02"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "New-Take Over",
    "Amount": 1039310711.79,
    "Count": 14,
    "Period": "2025-02"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 1973621612.76,
    "Count": 14,
    "Period": "2025-02"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 3336699731.84,
    "Count": 15,
    "Period": "2025-02"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 6004406031.309999,
    "Count": 37,
    "Period": "2025-02"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 9677876704.95,
    "Count": 45,
    "Period": "2025-02"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "NEW",
    "Amount": 20930437682.47,
    "Count": 473,
    "Period": "2025-02"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 27173232222.92,
    "Count": 620,
    "Period": "2025-02"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "TOP UP",
    "Amount": 42000000.0,
    "Count": 1,
    "Period": "2025-01"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "New-Take Over",
    "Amount": 206526425.48,
    "Count": 1,
    "Period": "2025-01"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "TOP UP",
    "Amount": 386128664.53999996,
    "Count": 2,
    "Period": "2025-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 509477828.95000005,
    "Count": 4,
    "Period": "2025-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "New-Take Over",
    "Amount": 760241175.48,
    "Count": 12,
    "Period": "2025-01"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "NEW",
    "Amount": 1529991402.51,
    "Count": 7,
    "Period": "2025-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 2165842248.99,
    "Count": 12,
    "Period": "2025-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 2445203485.13,
    "Count": 12,
    "Period": "2025-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 8289114541.66,
    "Count": 36,
    "Period": "2025-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "NEW",
    "Amount": 14945117073.57,
    "Count": 347,
    "Period": "2025-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 17310554909.73,
    "Count": 439,
    "Period": "2025-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "TOP UP",
    "Amount": 156979304.62,
    "Count": 3,
    "Period": "2024-12"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "New-Take Over",
    "Amount": 216916287.98,
    "Count": 1,
    "Period": "2024-12"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "TOP UP",
    "Amount": 235132303.18,
    "Count": 1,
    "Period": "2024-12"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "TOP UP",
    "Amount": 434577901.17,
    "Count": 3,
    "Period": "2024-12"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "NEW",
    "Amount": 1129665300.1,
    "Count": 5,
    "Period": "2024-12"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "New-Take Over",
    "Amount": 1182872459.03,
    "Count": 15,
    "Period": "2024-12"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 4374991660.58,
    "Count": 18,
    "Period": "2024-12"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 4475250956.67,
    "Count": 28,
    "Period": "2024-12"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 7879504999.12,
    "Count": 38,
    "Period": "2024-12"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 21280310115.33,
    "Count": 540,
    "Period": "2024-12"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "NEW",
    "Amount": 23864603437.69,
    "Count": 591,
    "Period": "2024-12"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "TOP UP",
    "Amount": 55413389.120000005,
    "Count": 3,
    "Period": "2024-11"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "TOP UP",
    "Amount": 683861267.98,
    "Count": 14,
    "Period": "2024-11"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "New-Take Over",
    "Amount": 4219364480.75,
    "Count": 14,
    "Period": "2024-11"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 6344261205.05,
    "Count": 27,
    "Period": "2024-11"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "NEW",
    "Amount": 6908933667.0,
    "Count": 30,
    "Period": "2024-11"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 11709539819.68,
    "Count": 57,
    "Period": "2024-11"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "New-Take Over",
    "Amount": 14636647317.11,
    "Count": 199,
    "Period": "2024-11"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 21855249372.62,
    "Count": 84,
    "Period": "2024-11"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "NEW",
    "Amount": 61721774545.34,
    "Count": 1511,
    "Period": "2024-11"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 71968616218.01,
    "Count": 1151,
    "Period": "2024-11"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 97687102512.34,
    "Count": 561,
    "Period": "2024-11"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "TOP UP",
    "Amount": 87622385.71000001,
    "Count": 2,
    "Period": "2024-10"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "TOP UP",
    "Amount": 699081447.17,
    "Count": 12,
    "Period": "2024-10"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "New-Take Over",
    "Amount": 6001066415.15,
    "Count": 21,
    "Period": "2024-10"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 7655692392.38,
    "Count": 29,
    "Period": "2024-10"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 9319893665.71,
    "Count": 37,
    "Period": "2024-10"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "NEW",
    "Amount": 11731781225.91,
    "Count": 51,
    "Period": "2024-10"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "New-Take Over",
    "Amount": 26061204875.04,
    "Count": 355,
    "Period": "2024-10"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 28025209880.3,
    "Count": 111,
    "Period": "2024-10"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "NEW",
    "Amount": 74049937065.38,
    "Count": 1967,
    "Period": "2024-10"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 92725691347.79,
    "Count": 1556,
    "Period": "2024-10"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 130540470018.27,
    "Count": 776,
    "Period": "2024-10"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "TOP UP",
    "Amount": 594101249.27,
    "Count": 7,
    "Period": "2024-09"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "TOP UP",
    "Amount": 786923115.62,
    "Count": 13,
    "Period": "2024-09"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "New-Take Over",
    "Amount": 3559593632.91,
    "Count": 13,
    "Period": "2024-09"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 5576057982.53,
    "Count": 21,
    "Period": "2024-09"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "NEW",
    "Amount": 6388351397.5,
    "Count": 26,
    "Period": "2024-09"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 10891168779.32,
    "Count": 50,
    "Period": "2024-09"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "New-Take Over",
    "Amount": 17150581780.1,
    "Count": 247,
    "Period": "2024-09"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 24868409876.579998,
    "Count": 103,
    "Period": "2024-09"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "NEW",
    "Amount": 76343767262.42,
    "Count": 2085,
    "Period": "2024-09"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 79505712498.44,
    "Count": 1603,
    "Period": "2024-09"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 94649736098.13,
    "Count": 568,
    "Period": "2024-09"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "TOP UP",
    "Amount": 207215002.0,
    "Count": 1,
    "Period": "2024-08"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "TOP UP",
    "Amount": 282870531.38,
    "Count": 4,
    "Period": "2024-08"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "TOP UP",
    "Amount": 357363485.13,
    "Count": 7,
    "Period": "2024-08"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "New-Take Over",
    "Amount": 2661131627.93,
    "Count": 9,
    "Period": "2024-08"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 3852935155.7999997,
    "Count": 17,
    "Period": "2024-08"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "NEW",
    "Amount": 5001063929.41,
    "Count": 19,
    "Period": "2024-08"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 11815360903.72,
    "Count": 60,
    "Period": "2024-08"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 20471636666.03,
    "Count": 85,
    "Period": "2024-08"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "New-Take Over",
    "Amount": 37851639041.73,
    "Count": 514,
    "Period": "2024-08"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 90178434868.59,
    "Count": 1866,
    "Period": "2024-08"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "NEW",
    "Amount": 94684362474.11,
    "Count": 2675,
    "Period": "2024-08"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 218711275767.22,
    "Count": 1252,
    "Period": "2024-08"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "TOP UP",
    "Amount": 181307145.35,
    "Count": 2,
    "Period": "2024-07"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "TOP UP",
    "Amount": 530875082.26,
    "Count": 6,
    "Period": "2024-07"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "New-Take Over",
    "Amount": 3341097458.44,
    "Count": 12,
    "Period": "2024-07"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 5409313341.110001,
    "Count": 20,
    "Period": "2024-07"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "NEW",
    "Amount": 5870662363.84,
    "Count": 24,
    "Period": "2024-07"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 9208831028.33,
    "Count": 46,
    "Period": "2024-07"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 20153429686.99,
    "Count": 78,
    "Period": "2024-07"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "New-Take Over",
    "Amount": 31885599525.81,
    "Count": 420,
    "Period": "2024-07"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 102504255601.92,
    "Count": 2601,
    "Period": "2024-07"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "NEW",
    "Amount": 139074020580.32,
    "Count": 3977,
    "Period": "2024-07"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 157087310643.35,
    "Count": 911,
    "Period": "2024-07"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "TOP UP",
    "Amount": 112393903.24000001,
    "Count": 2,
    "Period": "2024-06"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 329679832.12,
    "Count": 1,
    "Period": "2024-06"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "New-Take Over",
    "Amount": 1633063298.34,
    "Count": 6,
    "Period": "2024-06"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "NEW",
    "Amount": 2103608460.69,
    "Count": 10,
    "Period": "2024-06"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 9754370401.19,
    "Count": 58,
    "Period": "2024-06"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 17191126810.22,
    "Count": 71,
    "Period": "2024-06"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "New-Take Over",
    "Amount": 23389063502.57,
    "Count": 317,
    "Period": "2024-06"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 87739796112.8,
    "Count": 2465,
    "Period": "2024-06"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "NEW",
    "Amount": 141013160278.15,
    "Count": 4127,
    "Period": "2024-06"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 158726000012.39,
    "Count": 902,
    "Period": "2024-06"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "TOP UP",
    "Amount": 48401387.89,
    "Count": 1,
    "Period": "2024-05"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 647043269.6600001,
    "Count": 2,
    "Period": "2024-05"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "New-Take Over",
    "Amount": 2187881810.43,
    "Count": 9,
    "Period": "2024-05"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "NEW",
    "Amount": 7494288412.11,
    "Count": 31,
    "Period": "2024-05"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 14211747935.14,
    "Count": 65,
    "Period": "2024-05"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 20645475360.05,
    "Count": 82,
    "Period": "2024-05"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "New-Take Over",
    "Amount": 26570588456.53,
    "Count": 355,
    "Period": "2024-05"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 69171573374.52,
    "Count": 1260,
    "Period": "2024-05"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "NEW",
    "Amount": 92946578223.99,
    "Count": 2444,
    "Period": "2024-05"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 164106613800.04,
    "Count": 937,
    "Period": "2024-05"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 1296800924.16,
    "Count": 6,
    "Period": "2024-04"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "New-Take Over",
    "Amount": 3960358921.28,
    "Count": 14,
    "Period": "2024-04"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "NEW",
    "Amount": 4647807672.97,
    "Count": 18,
    "Period": "2024-04"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 7305944905.79,
    "Count": 38,
    "Period": "2024-04"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "TOP UP",
    "Amount": 11653366799.83,
    "Count": 219,
    "Period": "2024-04"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 14711836550.52,
    "Count": 58,
    "Period": "2024-04"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "NEW",
    "Amount": 17409586903.39,
    "Count": 283,
    "Period": "2024-04"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "New-Take Over",
    "Amount": 29802947062.57,
    "Count": 389,
    "Period": "2024-04"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 50040384663.78,
    "Count": 475,
    "Period": "2024-04"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "TOP UP",
    "Amount": 59428717764.64,
    "Count": 527,
    "Period": "2024-04"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 154489186204.13,
    "Count": 877,
    "Period": "2024-04"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "TOP UP",
    "Amount": 293372995.84,
    "Count": 1,
    "Period": "2024-03"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "New-Take Over",
    "Amount": 4233550248.63,
    "Count": 17,
    "Period": "2024-03"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 7487272809.63,
    "Count": 30,
    "Period": "2024-03"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 9336016663.55,
    "Count": 45,
    "Period": "2024-03"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "NEW",
    "Amount": 9934370146.6,
    "Count": 43,
    "Period": "2024-03"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 21855702998.71,
    "Count": 90,
    "Period": "2024-03"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "NEW",
    "Amount": 27981225589.53,
    "Count": 465,
    "Period": "2024-03"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "New-Take Over",
    "Amount": 28049944676.63,
    "Count": 365,
    "Period": "2024-03"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "TOP UP",
    "Amount": 47997207820.72,
    "Count": 823,
    "Period": "2024-03"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 91403764943.56,
    "Count": 817,
    "Period": "2024-03"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 187672730515.88998,
    "Count": 1058,
    "Period": "2024-03"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "TOP UP",
    "Amount": 265252953325.7,
    "Count": 2455,
    "Period": "2024-03"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "TOP UP",
    "Amount": 187099148.78,
    "Count": 1,
    "Period": "2024-02"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "New-Take Over",
    "Amount": 3761028862.21,
    "Count": 16,
    "Period": "2024-02"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "TOP UP",
    "Amount": 4249651767.19,
    "Count": 78,
    "Period": "2024-02"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 5256532689.36,
    "Count": 22,
    "Period": "2024-02"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 7033751881.63,
    "Count": 37,
    "Period": "2024-02"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "NEW",
    "Amount": 10212981047.74,
    "Count": 49,
    "Period": "2024-02"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 21313731493.19,
    "Count": 89,
    "Period": "2024-02"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "NEW",
    "Amount": 23176039232.94,
    "Count": 410,
    "Period": "2024-02"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "New-Take Over",
    "Amount": 24874961369.27,
    "Count": 361,
    "Period": "2024-02"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "TOP UP",
    "Amount": 33056352395.45,
    "Count": 332,
    "Period": "2024-02"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 60884319634.93,
    "Count": 638,
    "Period": "2024-02"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 143633415913.01,
    "Count": 866,
    "Period": "2024-02"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "New-Take Over",
    "Amount": 2910670409.96,
    "Count": 12,
    "Period": "2024-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "TOP UP",
    "Amount": 5379632833.36,
    "Count": 93,
    "Period": "2024-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "NEW",
    "Amount": 6261765278.03,
    "Count": 37,
    "Period": "2024-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "TOP UP",
    "Amount": 6669745589.87,
    "Count": 27,
    "Period": "2024-01"
  },
  {
    "Product": "KUPEN HYBRID GO (GRACE PERIOD OPTION)",
    "Facility_Type": "NEW",
    "Amount": 9010029502.94,
    "Count": 44,
    "Period": "2024-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN HYBRID",
    "Facility_Type": "New-Take Over",
    "Amount": 15920664630.33,
    "Count": 74,
    "Period": "2024-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "NEW",
    "Amount": 19550847698.49,
    "Count": 387,
    "Period": "2024-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "TOP UP",
    "Amount": 26947556624.76,
    "Count": 265,
    "Period": "2024-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN JANDA/DUDA",
    "Facility_Type": "New-Take Over",
    "Amount": 38036581142.82,
    "Count": 545,
    "Period": "2024-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "NEW",
    "Amount": 47647379663.36,
    "Count": 560,
    "Period": "2024-01"
  },
  {
    "Product": "KREDIT UMUM PENSIUNAN (KUPEN)",
    "Facility_Type": "New-Take Over",
    "Amount": 174689518565.28,
    "Count": 1080,
    "Period": "2024-01"
  }
];

let charts = {};

// Register the datalabels plugin globally
Chart.register(ChartDataLabels);

function formatCurrency(value) {
if (value >= 1e12) return (value / 1e12).toFixed(2) + ' T';
if (value >= 1e9) return (value / 1e9).toFixed(2) + ' M';
if (value >= 1e6) return (value / 1e6).toFixed(2) + ' jt';
return value.toLocaleString('id-ID');
}

function getDataByPeriod(period) {
return summaryData.find(d => d.period === period);
}

function getLostDataByPeriod(period) {
return lostData.find(d => d.period === period) || {};
}

function calculateChange(current, previous) {
if (!previous || previous === 0) return { percent: 0, absolute: 0, isPositive: true };
const change = ((current - previous) / previous) * 100;
return {
percent: change,
absolute: current - previous,
isPositive: change >= 0
};
}

function updateDashboard() {
const selectedPeriod = document.getElementById('monthSelector').value;
const comparison = document.getElementById('comparisonSelector').value;

const currentData = getDataByPeriod(selectedPeriod);
if (!currentData) return;

let previousPeriod;
if (comparison === 'mom') {
const currentIndex = summaryData.findIndex(d => d.period === selectedPeriod);
previousPeriod = currentIndex < summaryData.length - 1 ? summaryData[currentIndex + 1].period : null;
} else {
const [year, month] = selectedPeriod.split('-');
previousPeriod = `${parseInt(year) - 1}-${month}`;
}

const previousData = getDataByPeriod(previousPeriod);

updateKPICards(currentData, previousData);
updateAllCharts(selectedPeriod, previousPeriod, currentData, previousData);
}

function updateKPICards(current, previous) {
document.getElementById('totalPortfolio').textContent = formatCurrency(current.portfolio);
const portfolioChange = calculateChange(current.portfolio, previous?.portfolio);
updateChangeElement('portfolioChange', portfolioChange, formatCurrency(portfolioChange.absolute), false);

document.getElementById('nplRatio').textContent = (current.npl_ratio * 100).toFixed(2) + '%';
const nplChange = calculateChange(current.npl_ratio, previous?.npl_ratio);
updateChangeElement('nplChange', nplChange, (nplChange.percent).toFixed(2) + '% dari periode lalu', true);

const smRatio = (current.special_mention / current.portfolio) * 100;
const prevSmRatio = previous ? (previous.special_mention / previous.portfolio) * 100 : 0;
document.getElementById('smRatio').textContent = smRatio.toFixed(2) + '%';
const smChange = calculateChange(smRatio, prevSmRatio);
updateChangeElement('smChange', smChange, (smChange.percent).toFixed(2) + '% dari periode lalu', true);

document.getElementById('coverageRatio').textContent = (current.coverage_ratio * 100).toFixed(2) + '%';
const coverageChange = calculateChange(current.coverage_ratio, previous?.coverage_ratio);
updateChangeElement('coverageChange', coverageChange, (coverageChange.percent).toFixed(2) + '% dari periode lalu', true);
}

function updateChangeElement(elementId, change, text, invertColor) {
const element = document.getElementById(elementId);
const arrow = change.isPositive ? '‚Üë' : '‚Üì';
let className;

if (invertColor) {
className = change.isPositive ? 'change-negative' : 'change-positive';
} else {
className = change.isPositive ? 'change-positive' : 'change-negative';
}

element.innerHTML = `<span class="arrow">${arrow}</span><span>${text}</span>`;
element.className = 'kpi-change ' + className;
}


function updateSparklines(period) {
    const currentIndex = summaryData.findIndex(d => d.period === period);
    const last6Months = summaryData.slice(currentIndex, currentIndex + 6).reverse();
    
    if (last6Months.length === 0) return;


if (charts.mini1) charts.mini1.destroy();
charts.mini1 = new Chart(document.getElementById('miniChart1'), {
type: 'line',
data: {
labels: last6Months.map(d => d.period),
datasets: [{
data: last6Months.map(d => d.portfolio),
borderColor: '#3b82f6',
borderWidth: 2,
fill: false,
tension: 0.4,
pointRadius: 0
}]
},
options: {
responsive: true,
maintainAspectRatio: false,
plugins: { 
legend: { display: false },
datalabels: { display: false }
},
scales: { x: { display: false }, y: { display: false } }
}
});

if (charts.mini2) charts.mini2.destroy();
charts.mini2 = new Chart(document.getElementById('miniChart2'), {
type: 'line',
data: {
labels: last6Months.map(d => d.period),
datasets: [{
data: last6Months.map(d => d.npl_ratio * 100),
borderColor: '#ef4444',
borderWidth: 2,
fill: false,
tension: 0.4,
pointRadius: 0
}]
},
options: {
responsive: true,
maintainAspectRatio: false,
plugins: { 
legend: { display: false },
datalabels: { display: false }
},
scales: { x: { display: false }, y: { display: false } }
}
});

if (charts.mini3) charts.mini3.destroy();
charts.mini3 = new Chart(document.getElementById('miniChart3'), {
type: 'line',
data: {
labels: last6Months.map(d => d.period),
datasets: [{
data: last6Months.map(d => (d.special_mention / d.portfolio) * 100),
borderColor: '#f59e0b',
borderWidth: 2,
fill: false,
tension: 0.4,
pointRadius: 0
}]
},
options: {
responsive: true,
maintainAspectRatio: false,
plugins: { 
legend: { display: false },
datalabels: { display: false }
},
scales: { x: { display: false }, y: { display: false } }
}
});

if (charts.mini4) charts.mini4.destroy();
charts.mini4 = new Chart(document.getElementById('miniChart4'), {
type: 'line',
data: {
labels: last6Months.map(d => d.period),
datasets: [{
data: last6Months.map(d => d.coverage_ratio * 100),
borderColor: '#10b981',
borderWidth: 2,
fill: false,
tension: 0.4,
pointRadius: 0
}]
},
options: {
responsive: true,
maintainAspectRatio: false,
plugins: { 
legend: { display: false },
datalabels: { display: false }
},
scales: { x: { display: false }, y: { display: false } }
}
});
}


function updateDisburseChart(period, prevPeriod, current, previous) {
    const currentIndex = summaryData.findIndex(d => d.period === period);
    const last6Months = summaryData.slice(currentIndex, currentIndex + 6).reverse();


if (charts.disburse) charts.disburse.destroy();
charts.disburse = new Chart(document.getElementById('disburseChart'), {
type: 'bar',
data: {
labels: last6Months.map(d => {
const [y, m] = d.period.split('-');
const months = ['Jan','Feb','Mar','Apr','Mei','Jun','Jul','Agu','Sep','Okt','Nov','Des'];
return `${months[parseInt(m)-1]} ${y}`;
}),
datasets: [{
label: 'New Disbursement',
data: last6Months.map(d => d.new_disburse / 1e9),
backgroundColor: '#3b82f6',
borderRadius: 8
}]
},
options: {
responsive: true,
maintainAspectRatio: false,
plugins: {
legend: { display: false },
tooltip: {
callbacks: {
label: (ctx) => 'Rp ' + formatCurrency(ctx.raw * 1e9)
}
},
datalabels: {
display: true,
anchor: 'end',
align: 'top',
formatter: (val) => 'Rp ' + val.toFixed(2) + ' M',
color: '#1f2937',
font: {
weight: 'bold',
size: 11
},
backgroundColor: 'rgba(255, 255, 255, 0.8)',
borderRadius: 4,
padding: 4
}
},
scales: {
y: {
beginAtZero: true,
ticks: {
callback: (val) => val + ' M'
}
}
}
}
});

const avgDisburse = last6Months.reduce((sum, d) => sum + d.new_disburse, 0) / last6Months.length;
const trend = current.new_disburse > avgDisburse ? 'di atas' : 'di bawah';
document.getElementById('disburseInsight').textContent = 
`Penyaluran bulan ini ${formatCurrency(current.new_disburse)} (${current.new_disburse_count} Loan), ${trend} rata-rata 6 bulan terakhir sebesar ${formatCurrency(avgDisburse)}.`;
}

function updateProductBreakdown(period) {
const products = productData.filter(p => p.Period === period);

if (products.length === 0) {
document.getElementById('productBreakdown').innerHTML = '<p style="text-align:center; color:#6b7280; padding: 20px;">Tidak ada data produk untuk periode ini</p>';
return;
}

const totalAmount = products.reduce((sum, p) => sum + p.Amount, 0);
const totalCount = products.reduce((sum, p) => sum + p.Count, 0);

// Group by Product (all facilities combined)
const byProduct = {};
products.forEach(p => {
if (!byProduct[p.Product]) {
byProduct[p.Product] = { amount: 0, count: 0 };
}
byProduct[p.Product].amount += p.Amount;
byProduct[p.Product].count += p.Count;
});

// Group by Facility Type (all products combined)
const byFacility = {};
products.forEach(p => {
if (!byFacility[p.Facility_Type]) {
byFacility[p.Facility_Type] = { amount: 0, count: 0 };
}
byFacility[p.Facility_Type].amount += p.Amount;
byFacility[p.Facility_Type].count += p.Count;
});

// Sort for charts
const productsSorted = Object.entries(byProduct)
.sort((a, b) => b[1].amount - a[1].amount);
const facilitiesSorted = Object.entries(byFacility)
.sort((a, b) => b[1].amount - a[1].amount);

// Group by Product and Facility Type for detail table
const productMap = {};
products.forEach(p => {
const key = `${p.Product}|||${p.Facility_Type}`;
if (!productMap[key]) {
productMap[key] = { 
product: p.Product,
facility: p.Facility_Type,
amount: 0, 
count: 0 
};
}
productMap[key].amount += p.Amount;
productMap[key].count += p.Count;
});

const sortedProducts = Object.values(productMap)
.sort((a, b) => b.amount - a.amount);

// Generate facility badge
const getFacilityBadge = (type) => {
let className = 'facility-new';
if (type.includes('Take Over')) className = 'facility-takeover';
else if (type.includes('TOP UP')) className = 'facility-topup';
return `<span class="facility-badge ${className}">${type}</span>`;
};

// Shorten product names for chart
const shortenProductName = (name) => {
return name
.replace('KREDIT UMUM PENSIUNAN ', '')
.replace('KUPEN ', '')
.replace('(KUPEN)', 'KUPEN')
.replace('JANDA/DUDA', 'JANDA')
.replace('GRACE PERIOD OPTION', 'GO');
};

const html = `
<div class="product-summary">
<div class="product-summary-card">
<div class="product-summary-label">Total Amount</div>
<div class="product-summary-value">${formatCurrency(totalAmount)}</div>
</div>
<div class="product-summary-card">
<div class="product-summary-label">Total Accounts</div>
<div class="product-summary-value">${totalCount.toLocaleString('id-ID')}</div>
</div>
<div class="product-summary-card">
<div class="product-summary-label">Product Types</div>
<div class="product-summary-value">${productsSorted.length}</div>
</div>
</div>

<div class="product-charts-container">
<div class="product-chart-box">
<div class="product-chart-title">üìä By Product</div>
<div class="product-mini-chart">
<canvas id="productPieChart"></canvas>
</div>
</div>
<div class="product-chart-box">
<div class="product-chart-title">üìã By Facility Type</div>
<div class="product-mini-chart">
<canvas id="facilityPieChart"></canvas>
</div>
</div>
</div>

<div class="detail-toggle">
<button class="detail-toggle-btn" onclick="toggleProductDetail()">
<span id="toggleIcon">‚ñº</span> Lihat Detail Breakdown
</button>
</div>

<div class="product-detail-section" id="productDetailSection">
<div class="product-table-container">
<table class="product-table">
<thead>
<tr>
<th style="width: 35%;">Product</th>
<th style="width: 20%;">Facility Type</th>
<th style="width: 25%; text-align: right;">Amount</th>
<th style="width: 10%; text-align: center;">Count</th>
<th style="width: 10%; text-align: right;">%</th>
</tr>
</thead>
<tbody>
${sortedProducts.map(item => {
const percentage = ((item.amount / totalAmount) * 100).toFixed(1);
return `
<tr>
<td class="product-name-cell">${item.product}</td>
<td class="facility-type-cell">${getFacilityBadge(item.facility)}</td>
<td class="amount-cell">${formatCurrency(item.amount)}</td>
<td class="count-cell">${item.count.toLocaleString('id-ID')}</td>
<td class="amount-cell">${percentage}%</td>
</tr>
`;
}).join('')}
</tbody>
</table>
</div>
</div>
`;

document.getElementById('productBreakdown').innerHTML = html;

// Create Product Pie Chart
if (charts.productPie) charts.productPie.destroy();
charts.productPie = new Chart(document.getElementById('productPieChart'), {
type: 'doughnut',
data: {
labels: productsSorted.map(([name]) => shortenProductName(name)),
datasets: [{
data: productsSorted.map(([, data]) => data.amount),
backgroundColor: [
'#3b82f6',
'#8b5cf6',
'#ec4899',
'#f59e0b',
'#10b981',
'#06b6d4'
],
borderWidth: 0
}]
},
options: {
responsive: true,
maintainAspectRatio: false,
plugins: {
legend: { 
position: 'right',
labels: {
font: { size: 10 },
padding: 8,
boxWidth: 12
}
},
tooltip: {
callbacks: {
label: (ctx) => {
const percentage = ((ctx.raw / totalAmount) * 100).toFixed(1);
return `${ctx.label}: ${formatCurrency(ctx.raw)} (${percentage}%)`;
}
}
},
datalabels: {
display: true,
formatter: (val, ctx) => {
const percentage = ((val / totalAmount) * 100).toFixed(1);
return percentage + '%';
},
color: '#fff',
font: {
weight: 'bold',
size: 12
}
}
}
}
});

// Create Facility Type Pie Chart
if (charts.facilityPie) charts.facilityPie.destroy();
charts.facilityPie = new Chart(document.getElementById('facilityPieChart'), {
type: 'doughnut',
data: {
labels: facilitiesSorted.map(([name]) => name),
datasets: [{
data: facilitiesSorted.map(([, data]) => data.amount),
backgroundColor: [
'#3b82f6',
'#f59e0b',
'#10b981',
'#8b5cf6'
],
borderWidth: 0
}]
},
options: {
responsive: true,
maintainAspectRatio: false,
plugins: {
legend: { 
position: 'right',
labels: {
font: { size: 10 },
padding: 8,
boxWidth: 12
}
},
tooltip: {
callbacks: {
label: (ctx) => {
const percentage = ((ctx.raw / totalAmount) * 100).toFixed(1);
const count = facilitiesSorted[ctx.dataIndex][1].count;
return [
`${ctx.label}`,
`Amount: ${formatCurrency(ctx.raw)} (${percentage}%)`,
`Count: ${count.toLocaleString('id-ID')} akun`
];
}
}
},
datalabels: {
display: true,
formatter: (val, ctx) => {
const percentage = ((val / totalAmount) * 100).toFixed(1);
return percentage + '%';
},
color: '#fff',
font: {
weight: 'bold',
size: 12
}
}
}
}
});
}

function toggleProductDetail() {
const detailSection = document.getElementById('productDetailSection');
const toggleIcon = document.getElementById('toggleIcon');

if (detailSection.classList.contains('show')) {
detailSection.classList.remove('show');
toggleIcon.textContent = '‚ñº';
} else {
detailSection.classList.add('show');
toggleIcon.textContent = '‚ñ≤';
}
}

function updateInterestChart(current) {
const interestFromNew = current.new_interest_income;
const interestFromExisting = current.interest_income - current.new_interest_income;

if (charts.interest) charts.interest.destroy();
charts.interest = new Chart(document.getElementById('interestChart'), {
type: 'doughnut',
data: {
labels: ['Existing Portfolio', 'New Disbursement'],
datasets: [{
data: [interestFromExisting, interestFromNew],
backgroundColor: ['#8b5cf6', '#3b82f6'],
borderWidth: 0
}]
},
options: {
responsive: true,
maintainAspectRatio: false,
plugins: {
legend: { position: 'bottom' },
tooltip: {
callbacks: {
label: (ctx) => ctx.label + ': Rp ' + formatCurrency(ctx.raw)
}
},
datalabels: {
display: true,
formatter: (val, ctx) => {
const percentage = ((val / current.interest_income) * 100).toFixed(1);
return ctx.chart.data.labels[ctx.dataIndex] + '\nRp ' + formatCurrency(val) + '\n(' + percentage + '%)';
},
color: '#fff',
font: {
weight: 'bold',
size: 11
},
textAlign: 'center'
}
}
}
});

const contributionPct = (interestFromNew / current.interest_income) * 100;
document.getElementById('interestInsight').textContent = 
`New disbursement berkontribusi ${contributionPct.toFixed(2)}% (${formatCurrency(interestFromNew)}) dari total interest income ${formatCurrency(current.interest_income)}.`;
}

function updateAgeChart(period) {
const ageData = ageDistribution[period] || ageDistribution["2026-01"];

if (charts.age) charts.age.destroy();
charts.age = new Chart(document.getElementById('ageChart'), {
type: 'bar',
data: {
labels: ageData.map(d => d.age_group),
datasets: [{
label: 'Portfolio',
data: ageData.map(d => d.portfolio / 1e12),
backgroundColor: '#3b82f6',
borderRadius: 6
}]
},
options: {
responsive: true,
maintainAspectRatio: false,
indexAxis: 'y',
plugins: {
legend: { display: false },
tooltip: {
callbacks: {
label: (ctx) => 'Rp ' + formatCurrency(ctx.raw * 1e12)
}
},
datalabels: {
display: true,
anchor: 'end',
align: 'right',
formatter: (val) => 'Rp ' + val.toFixed(2) + ' T',
color: '#fff',
font: {
weight: 'bold',
size: 11
},
padding: 6
}
},
scales: {
x: {
beginAtZero: true,
ticks: {
callback: (val) => val + ' T'
}
}
}
}
});

const tbody = document.getElementById('ageTableBody');
tbody.innerHTML = ageData.map(d => `
<tr>
<td>${d.age_group}</td>
<td>${d.debitur.toLocaleString('id-ID')}</td>
<td>${formatCurrency(d.portfolio)}</td>
<td>${formatCurrency(d.avg_Porto)}</td>
</tr>
`).join('');
}


function updateQualityChart(period) {
    const currentIndex = summaryData.findIndex(d => d.period === period);
    const last6Months = summaryData.slice(currentIndex, currentIndex + 6).reverse();


if (charts.quality) charts.quality.destroy();
charts.quality = new Chart(document.getElementById('qualityChart'), {
type: 'line',
data: {
labels: last6Months.map(d => {
const [y, m] = d.period.split('-');
const months = ['Jan','Feb','Mar','Apr','Mei','Jun','Jul','Agu','Sep','Okt','Nov','Des'];
return `${months[parseInt(m)-1]} ${y}`;
}),
datasets: [
{
label: 'NPL Ratio',
data: last6Months.map(d => d.npl_ratio * 100),
borderColor: '#ef4444',
backgroundColor: 'rgba(239, 68, 68, 0.1)',
tension: 0.4,
fill: true
},
{
label: 'SM Ratio',
data: last6Months.map(d => (d.special_mention / d.portfolio) * 100),
borderColor: '#f59e0b',
backgroundColor: 'rgba(245, 158, 11, 0.1)',
tension: 0.4,
fill: true
}
]
},
options: {
responsive: true,
maintainAspectRatio: false,
plugins: {
legend: { position: 'bottom' },
datalabels: {
display: true,
align: 'top',
formatter: (val) => val.toFixed(2) + '%',
color: function(context) {
return context.datasetIndex === 0 ? '#ef4444' : '#f59e0b';
},
font: {
size: 10,
weight: 'bold'
},
backgroundColor: 'rgba(255, 255, 255, 0.8)',
borderRadius: 3,
padding: 3
}
},
scales: {
y: {
beginAtZero: true,
ticks: {
callback: (val) => val.toFixed(2) + '%'
}
}
}
}
});

const currentData = getDataByPeriod(period);
const tbody = document.getElementById('qualityTableBody');
const currentPortfolio = currentData.portfolio - currentData.special_mention - currentData.npl;
tbody.innerHTML = `
<tr>
<td>Current (Kol 1)</td>
<td>${formatCurrency(currentPortfolio)}</td>
<td>${((currentPortfolio / currentData.portfolio) * 100).toFixed(2)}%</td>
</tr>
<tr style="background: #fff7ed;">
<td>Special Mention (Kol 2)</td>
<td>${formatCurrency(currentData.special_mention)}</td>
<td>${((currentData.special_mention / currentData.portfolio) * 100).toFixed(2)}%</td>
</tr>
<tr style="background: #fef2f2;">
<td>NPL (Kol 3-5)</td>
<td>${formatCurrency(currentData.npl)}</td>
<td>${(currentData.npl_ratio * 100).toFixed(2)}%</td>
</tr>
<tr style="background: #f0fdf4;">
<td>CKPN</td>
<td>${formatCurrency(currentData.ckpn)}</td>
<td>${(currentData.coverage_ratio * 100).toFixed(2)}%</td>
</tr>
`;
}

function updateWaterfallChart(period) {
const currentIndex = summaryData.findIndex(d => d.period === period);
const current = summaryData[currentIndex];
const previous = summaryData[currentIndex + 1];

if (!previous) return;

const lost = getLostDataByPeriod(period);
const lostAmount = lost.lost_portfolio || 0;

	const data = [
	previous.portfolio / 1e12,
	current.new_disburse / 1e12,
	-lostAmount / 1e12,
	current.portfolio / 1e12
	];

if (charts.waterfall) charts.waterfall.destroy();
charts.waterfall = new Chart(document.getElementById('waterfallChart'), {
type: 'bar',
data: {
labels: ['Opening Balance', 'New Disburse', 'Lost Portfolio', 'Closing Balance'],
datasets: [{
label: 'Portfolio Movement',
data: data,
backgroundColor: ['#8b5cf6', '#10b981', '#ef4444', '#3b82f6'],
borderRadius: 8
}]
},
options: {
responsive: true,
maintainAspectRatio: false,
plugins: {
legend: { display: false },
tooltip: {
callbacks: {
label: (ctx) => {
	if (Math.abs(ctx.raw) < 1) {
	return 'Rp ' + (Math.abs(ctx.raw) * 1000).toFixed(2) + ' M';
	}
	return 'Rp ' + Math.abs(ctx.raw).toFixed(2) + ' T';
}
}
},
datalabels: {
display: true,
	anchor: 'end',
	align: 'top',
	formatter: function(val) {
	if (Math.abs(val) < 1) {
	return (Math.abs(val) * 1000).toFixed(2) + ' M';
	}
	return Math.abs(val).toFixed(2) + ' T';
	},
	color: '#1f2937',
	backgroundColor: 'rgba(255, 255, 255, 0.9)',
borderRadius: 4,
padding: 6,
font: {
weight: 'bold',
size: 11
}
}
},
scales: {
y: {
ticks: {
callback: (val) => {
if (Math.abs(val) >= 1) {
return val.toFixed(1) + ' T';
}
return (val * 1000).toFixed(0) + ' M';
}
}
}
}
}
});
}

function updateLostBreakdown(period) {
const lost = getLostDataByPeriod(period);
if (!lost.lost_portfolio) {
document.getElementById('lostBreakdown').innerHTML = '<p style="grid-column: 1/-1; text-align:center; color:#6b7280;">Tidak ada data lost portfolio untuk periode ini</p>';
document.getElementById('financialImpact').textContent = 'Data tidak tersedia';
return;
}

const breakdown = [
{ label: 'Lunas Normal', value: lost.lunas, class: 'lunas' },
{ label: 'Pelunasan', value: lost.pelunasan, class: 'pelunasan' },
{ label: 'Pelunasan JF', value: lost.pelunasan_jf, class: 'jf' },
{ label: 'Rehab', value: lost.rehab, class: 'rehab' },
{ label: 'Restruct', value: lost.restruct, class: 'restruct' },
{ label: 'Pass Away', value: lost.passaway, class: 'passaway' },
{ label: 'Write Off', value: lost.writeoff, class: 'writeoff' }
];

const container = document.getElementById('lostBreakdown');
container.innerHTML = breakdown.map(item => {
const pct = (item.value / lost.lost_portfolio * 100).toFixed(1);
return `
<div class="lost-item ${item.class}">
<div class="lost-label">${item.label}</div>
<div class="lost-value">${formatCurrency(item.value)}</div>
<div class="lost-percent">${pct}% dari total lost</div>
</div>
`;
}).join('');

const pasawayPct = ((lost.passaway / lost.lost_portfolio) * 100).toFixed(1);
const impact = `Total lost portfolio ${formatCurrency(lost.lost_portfolio)} (${lost.lost_count} loan) dengan direct cost impact ${formatCurrency(lost.direct_cost) '}`;
document.getElementById('financialImpact').textContent = impact;
}
function updateAllCharts(period, prevPeriod, current, previous) {
updateSparklines(period);
updateDisburseChart(period, prevPeriod, current, previous);
updateProductBreakdown(period);
updateInterestChart(current);
updateAgeChart(period);
updateQualityChart(period);
updateWaterfallChart(period);
updateLostBreakdown(period);
}

// ========================================
// FUNGSI UNTUK TOGGLE PENGANTAR
// ========================================
function togglePengantar() {
    const content = document.getElementById('pengantarContent');
    const button = document.querySelector('.pengantar-toggle');
    
    if (content.classList.contains('show')) {
        content.classList.remove('show');
        button.classList.remove('active');
    } else {
        content.classList.add('show');
        button.classList.add('active');
    }
}

document.addEventListener('DOMContentLoaded', function() {
updateDashboard();
});
</script>
</body>
</html>
